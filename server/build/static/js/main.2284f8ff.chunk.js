(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],[,,,,,,,function(e,a,t){e.exports=t.p+"static/media/profile.9616aff3.jpg"},function(e,a,t){e.exports=t.p+"static/media/Logo1.caea3fae.svg"},,function(e,a,t){e.exports=t.p+"static/media/close_btn.f2269fac.svg"},,function(e,a,t){e.exports=t.p+"static/media/Bread.31215a6c.svg"},function(e,a,t){e.exports=t.p+"static/media/Tomato.b5764a59.svg"},function(e,a,t){e.exports=t.p+"static/media/Celery.dc6aeedc.svg"},function(e,a,t){e.exports=t.p+"static/media/Pork.82735d4b.svg"},function(e,a,t){e.exports=t.p+"static/media/notfound-image.3a0cd269.svg"},,function(e,a,t){e.exports=t.p+"static/media/upload.a25673f8.png"},function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAIABJREFUeJzt3XlgXGW9//H390wmbTMzSWbSRZGyKYJsVijtTIpA2byiSBXFFZTl+nPBH6LiiqLyUwE3LvwurheEq7IICFxBWSuUzkwhsggVZRGhsnTJTJaZJG1mzvf+kYKINHOSzDmzfV//5jlnPk2TT2bOec7zgDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjDGm6qTWAYx/VK8MjWzaZb62lec7bqnDVSeCaEihE8ARJw6g4o6pyyhAyKHkCkOi5Bw0Nzy+pX/+/OWFWv47jH+sABqYal94eNPYLm1tzh6usjvivAbVV4BsB+4CkPlAqAovtQXYIPCkwpMgTwr6lLo8hht6KDp/yXNVeA1TA1YADWLDhpXROe0dSxx1e4FFqrwO2BUI1zgaQD/woKBrUe51cbLRxNI/i4hb62BmclYAdWqk/+6FrrgHCW5ScZaB7k11/poHZRAkq6pZHF0Z7W5Piywer3Uo88+sAOqE6sq2wkB7r6hzJHAksHetM1WTQEFhpaI3uyHnpq6u5KO1zmSsAGpKn3sgUmwvHg1yNMgRoN21zhQcXasqV4no1dFE74O1TtOqrAACpnplqJjb/jCE9wvydoVorTPVnPCIunpFOBT+2ezu/f9a6zitxAogIMO51XuJOCei+h6QV9Y6T51S4A5EL46Mtl8l2y0eqXWgZmcF4CPVK0MjA9sfpS6fQOSQWudpMEMoPyu36QVdXb2P1TpMs6qrAlC9cVYxF/84IkeAvkqUR1y4MtaTuqLW2aYin1/ZHXbnnITox4GdA3zpErBO4VmU9Y7wNCIbcN2nXRgWnEFUXQcd0janXB4vFdrDs8bLlLpBBMBVjTlKTIUELgmFBKLzBdkB2GHrv2dOgP8mV+E34uj50e7e2wJ83ZZQNwWg69JzRiJys8IBL/2awA8iidTHapFrKoaHV8+XkvNZlI8AER9fqgysBf4kIn9yXffPiD4cjXc/IrLnFh9fF4Dh4Tvn6Xj7biHcPYG9FdkT2AdI+PzS94no1zu6U9eJiPr8Wi2hbgqgkEufDnLutr6uwvJYPPX7ACN5NjTUN9cpjX8GOAV/fvHzQFZEMq7I6tEtI3fX4/TcoY137ea0OUtFJanQy8StTMeHl/qjqnw9mlj6a5tsNDN1UwDFXGbVy/31f4HKedGe5GkBRqpocDCdcMryaYFPALEqnroskFX0BkR/G+nufaAR/+INDfXNlVLpMFE9AuFwYPsqv8SDqH422tP7uyqft2XUUwE8qvCaSYZcEU2k3hNYoElMTNqZ/TFRvgrEq3TaYeB/QH9TDnFTV1dvrkrnrRuF/OpF6so7ROQYYI+qnVi4BZzTo/GlD1TtnC2ibgpgOJd+XJBdtvV1EflVJJ48NshML6ewKXMYDv9BdX6AS8DNoD+PFLlWFvaOVuGcDWF4U+Z1TohjVfkg1blQ6qJcQkm+EF2QXF+F87UEKwCPxgbu2WXcLX9X0BVVON0DKlxEm3t5LLZsQxXO17BUVQoDaw4WdU8AOQbomOEp84J+oSOe+oldH6jMCqAC1StDxfwOp4OeCcyewanKolznOnp+LN57R7XyNZNcrq+rXcdPQjiFGb4rUCQjIh+1jwWTswKYLNOmzOskxM9QlszgNHnQ/wqJ/OeceOpv1crWzFSvDI0ObP82V51Pgh44g1OVVPVb0UT7WfYk4svz4xZNw1NVp5jLflgc+mbwyz8MnLOF8M7RRO/p9svvncix5Y5476+jieRB7sSdod9M81RtIvLlYn78D4X86kXVzNgsrABeYnAwu2shn12t6I+Y3ufRQVW+toXwwmgi9flEYvFgtTO2ks5EanU0kTrKhQMmrvZPy96okyn0Zz+jqvYz/yL2zXiR4f70u0Jl7RNITuPwMZBvlUO6S6wn9VX7xa+uzkRqdTSeOgKVI4DpfK6fjei3i/nsDUNDfXOrna9RWQEAqmvbi7nM+SJyJVsXzJwKUa4JOc4e0UTyi814/76eRHuSt0TiyX0RORF4ehqn+DenNH7fUC6zrNrZGlHLF8BofvWOxYGhVToxm2+KdC0uh0d6UsfM6V76RPXTmZcjIm40nrx4pDS2O8L3mJhPMRXbO/D7Qn/2037kayQtXQCF/uwRZXXuncaFviKip0XimxdF56Zu9SWcqWj+/OWFaDz1acTdH1gzxcPbEP1OIZe+VPXGWX7kawQtWwDF/szJiN7AlJ9g01Ulx319NN57nsjyqf7lMT6IxpfdH4kne1U4FZjiIiJyXCGfWFlYn13gS7g613IFoKpSyKW/pcJPgLYpHDqK8qlIPHVwd/eyx/3KZ6ZHRNxYPHW+Wy7vq5Cd0rFoirDeXciveb1f+epVSxWAPrFydjGfvRzk81M6DrJu2VkU7Ul936aX1rfOeQf8JRofe6PAGUzt2sAOqHvHcD59kF/Z6lHLFMDAwKp4oWv2bcBUZhMqwvej8fCBnfOWPuJXNlNdIstLkUTqGy4cDKybwqFdovK7Yj5djec9GkJLFMDQUN/cNrftNplYpMKrQRXeGY2nPmXTSBtTZyK12m0L7wv8dgqHzVaVq4r9mZP9ylVPmr4ACuuzC5zS+ErgDd6PkvvLIV0ci6eu8S2YCURn5+JNkXjyLSJ6JhOrDnsRUuHHw7n0KX5mqwdNXQAjm9KvIqy/B/aawmFXRIpur61E2zxERCPx3q+ryruAoufDkPOHc+mP+5mt1pq2AEZzd+2gjtwB7O79KD07Ek++t5UW5mglsZ7k1SL6RrxfFxBBLmjmEmjKAhgeXj2/rKFbFV7t8ZCSKB+OJnq/0Ihr7xnvIvHe+6QcXor35wlEkAuK/Zl/9zNXrTRdAWzceFdMxp0bEXb1Ml6gIDgrIj2pn/idzdSHyLzFz46Uxg5A8DqLU1T44XB/9p2+BquBpioA1b7wnFDbr4D9vB0hA+JyWCSx9AZfg5m6M3/+8kKkO/9WEb3K4yGOiP6i0J893NdgAWuaAlBVp5gfvxT0TR4P2STiHtIxNzXVOeSmSYgcubmje/N7QS7zeEg7or9qphmDTVMAxVzme4C3ZcOVDaCHROK99/mbytQ7keWlSPyp44DLPR7Shbr/U9hw9yv8zBWUpiiAQj59PCKnehosrFdxD7U96c3zRI4tR+LrPgD8wuMhC2kr/0bXpYPcI9EXDV8AI/3ZJCo/9jg8p27o0Fhi2UO+hjINZ6IExj6kyLUeD9mvGHF+6GuoADR0ARQ39r3SFb0a8PI896gLb4v1LFnrdy7TmESWl6JF930gd3o7Qo9v9EVFGrYAVPvCGtpyBbCdh+FlFT7QmUit9juXaWyysHd0s3IUyP3eDtCzh3LZbe9pWecatgAK+fHzQd7oYaiK8hGb12+86ulJDkm59Ba8zRhsc9DLGnWh0YYsgGI+vULgI17GqspZkZ7UT/3OZJpLZN4Bz4jo0Xh7dmB7pzR+qarWzUY7XjVcARQ23P0KVfE0a0/h+mhi6df8zmSaUyTee5+qfAhvTxG+uZhb03DXAxqqAFRVaCtfDHh4uyV/2aJynK3gY2Yi1pO8SgRvf0RE/99w/917+hypqhqqAAoD2VOAf/MwdFjVOaanJznkdybT/Dq6k19XuN7D0Fki5f9W7Qv7HqpKGqYAVHU3Uc7xMlREj7fbfaZaRES1LXwS8HcPw98wMjD+Rb8zVUvdFIColCsM2QeoPPNK9fxIvNfrZA5jPOnsXLzJnZhqXnGhUVW+1CjPC9RNAaiwsQpnWRsZ2jylFX+N8aozkVotcKaHoWFV/UEjbERaNwEd4dkZnmJcnNCHZOflY1UJZMzL6Ignzxa4q9I4QVMjueyJQWSaibopAJDp7Pj6Yl+OdC/tq0oUY7ZBRNxyuXwyHnYgUuGc4eE75wUQa9rqZuJCIZfeG+SP0zlW4HFx9X3a5lS6juCLcsktxnraH7flw1tHIZ89FdXzKg4UuSgaT54UQKRpqZsCACjkMmuBPWqdY5oGRfhOR3fyG7auYPNTVaeQz64WSFYY6oK8IZpITuuPm9/q6CMAqMpXap1hBrpUOauQz55V6yDGfyLiirgfpfJdAQc4N4BI01JX7wBUVUby2TsVGvbpKmBss8oCm4TUGgr92e8j+smKA1WOiPYkbwkg0pTU1TsAEVFx9T2gM70jUEuzw8I+tQ5hgjHqlr4CPFNxoHBuPd4WrLtAHXN7n3ZcVoAM1DrLdIkj7bXOYIIxb94Bw4icUXmkLirk1rzd/0RTU3cFANAxt/dut1xKIjTijrxldUJ1ecHH+CPS/dSlQMX/cxHOqLdHhuuyAGBin/ctGl4CnAM0zlZdws86OxdvqnUMExyRY8uofq7ySF00MpA9yv9E3tVVG23LSP/dC9UpnaAqK5jSLr+BUpRLIiP6MdtbsDUV+jO3Ihw66SDhnmg8tSSgSBU1RAG82NBQ31ynvHl70bZXuVruqHUeAEcYFXXu7+hJenlazDSpoVxmmeNhmrA6zqGx7qW3B5GpkoYrAGPqWSGXuR1YPtkYRa+LJXpXBBRpUnV7DcCYRqQiFSeCCXLU2MA9uwSRpxIrAGOqKBZPrhSotPy8U9LSxwMJVIEVgDFV5grfqzhI5UR9pq/m17CsAIypsmj3uuuAJyYfpd3F2aV3BBJoElYAxlSZyLFloPK+gaIf9D/N5KwAjPFBOaQ/pdKiIcoho/nVOwaT6OVZARjjg66u3hzw6wrDHBfnuCDybDNALV/cmKbm6MWVhqjy/iCibItNBDLGJ6rqFPPZJ4AdJh8ne8Z6kn8KKNY/sXcAxvhERFxVvaTSOMfRmt0NsAIwxlfO5ZVGqFKzdQLsI4AxPivkMg8Du082JiTsPCee+lswif7B3gEY4zOFayqNcdXTprdVZwVgjM8cx6l0OxCUwwOI8i+sAIzxWUfXkj8AT082RkUOUb0yFFCkF1gBGOMzEVGUWycfpd2j/QsXB5PoH6wAjAmCSIUCAHU4LIgoL2YFYEwQxrkFmHTLOEVTAaV5gRWAMQGILkiuB9ZOPkqWBr1suBWAMQFRNF1hyNzBwXSgS4VZARgTEEdZU2lMm+tU2m24qqwAjAmIS1vFAkB1/wCivMAKwJiARBP7PwxMvmu0I3sGk2brywX5Ysa0MhFxQe6fdJCqFYAxzUrRCs/9yysHB9OJYNJYARgTLKHiwh9SltcFEQWsAIwJljgV5gJASLECMKYZyRap+A7ARSddQqyarACMCVBk3v7rgUm3jxfECsCYZrT1ycAK28jrwmDSWAEYUwtPTfZFEXsHYEwzWzfZFxVeFVQQKwBjAqbCMxWGzNF16TlBZLECMCZgopKvNGZkthsPIosVgDEBE9yKBeA67VYAxjQj16n8DkDF3gEY06QqF0AIOoNIYgVgTMC0JJMuEQ6AW94YQBQrAGOCFpu75FGURycZ8reOni33BZHFCsCYgImIgv5foPwyX96My7+LLC8FkcUKwJgaiPb0/g5H36RIBigLFIDfiiPLonNTFfcQqJZAlyAe2ZRZ6jryNUGXKVIScW91kNNrsSuqMSbAAij0p9+EyPVA+0u+NKwaSsV6llR8TtoYU12BfARQ7Qsj8lP+9ZcfICZSviSIHMaYfxZIAYzmSvsB208yZL+xgXsC3RDBGBPUOwCh4iKH41oK7BFIY8yEQAqgXGktdCCEBjL10RjzD4EUgFAeqDTGxekOIosx5h8CKYCQW3nuM669AzAmaIEUwJwt7ZWffkLtHYAxAQvmI8B2i0eAzZOOcWS7ILIYY/4hsKnAik7+BJQGtxKqMWZCYAUgyKQroRLgWujGmAkBPgykk66EClgBGBOwAD8CVHoHQMfw8J3zAgljjAECLACncgFAKRTYpojGmAALwBX3L5XGOOrsEUQWY8yE4D4ChNq9PO5rBWBMgAIrgM7OxZtQNkw2RlX3DCqPMSboJcGEyfdGF2dfVQ10lSJjWlmgBSDw0OQjtHt40+rXBpPGGBNoAajI3ZXGOG3O0iCyGGMCLgC3JGsqjREVKwBjAhJoAcTmLnkUyE02RpHegOIY0/KCvQYgokCFjwG6j80INCYYgW8MIiLpCkMctoQPCSSMMS0u8AIou+5tFQcJhwYQxZiWF3gBxBKb7wYGJxsjcHhAcYxpaTX4CLC8pHBHhWE7FfJrXh9IIGNaWG02BxUqbn6orvv2IKIY08pqUgBlcW+sNEaEdwSRxZhWVpMC6O5e9jjwQIVhew9tvGu3IPIY06pq8xEAENFrKo0JtTnvDiKLMa2qZgWgyq8rj5EP2dOBxvinZgUQTfQ+iPJohWE7FwbSbwwkkDEtqGYFAKDwy0pjhNAHg8hiTCuqaQG0hZxLAJ1sjKgem8v1dQUUyZiWUtMCmNO99AkqTApSiLbLlhMCimRMS6lpAQAgXFJxjMqpqleGAkhjTEupeQGMjI9dBQxVGLbTSH7hkUHkMaaV1LwA5s9fXkD14krjFD4VRB5jWknNCwCgFNILALfCsIOHctkDgshjTKuoiwLYOjW44vMBDvqlAOIY0zLqZpZdoT97OKI3VxonrrskMnfZPUFkMvWpuPGu7Qi1LXLVjdQ6C4AjUlD0725b6JnOzqX9tc4zFXVTAKoqxXz2HmC/CkNvjCZSbwkik6kv+sTK2cXO2RcifIg6+tl9EQXuFeFaKevFHXN7n651oErq6ptYzKdXqErlZwREDonFkyuDyGTqRyGf+SnKSbXO4dEoyHmblbN7epKV7nLVTF0VwNZ3AfcD+1QY+odIPLn/1lWGTQsYHr5znoyHnwUabT7In8sheVtXV7LScy81URcXAZ8nIqrKNzwM3a+Yz77P90CmfpRn7U3j/fID7B4q65riwJrFtQ7ycuqqAACiieRVwIMehn5Tn3ugLi4CGf+py3itM8xAXF332uLGu7ardZCXqrsCEBFX4HMehu5QbB/5iu+BTF0oy8iDwOZa55iBV2mo7bJah3ipuisAgEgi9VuUyvsHwGnD/Xfv6XsgU3Px+PIB0O/XOsfM6IHFfHpFrVO8WF0WAIA4ejqVZweGRdwLbdWg1hCJp74kwleB4VpnmS5VOavWGV6srn9xCrnsJaDHVxon8NFIIvXDIDKZ2lO9cVYhN/c1TsidXZMApbKjIefnKK+dzuGqob1iPUvWVjvWdNR3AazPLiCsDwPxycYJFMYdd9HWKcXG+KqQS58Ocu50jxc4I5JIebnb5bu6/QgAEF2QXK/IGZXGKURDrnOprRlg/DZxzUm+PqOTiNTNrld1XQAA0fjSHyKVthQHgd5ibofTgshkWpM+sXK2SPlyYGYfPVTr5nZg3ReAiLgifBQoVR6s3xjZlFnqfyrTioqdc74F7DXT86gyvwpxqqLuCwAg0p26V5WzPQxtdx0uHxhYNek1A2OmqphPr0D0VA9Dx4A/TjZARevmo2pDFABANDH2NVT7PAzdqc1tu9RuDZpqGdp4126q8jM8XDRX4XPAn30PVSUNUwAiy0sIJ+JtNthbi/k1XmYTGjOpXK6vywm1XQd4WJpebop2Jy/wPVQVNUwBwNbdhOBMb6P1G8V85m2+BjJNTVWdMOOXgnrZpHaTlNtOaLQnVBuqAAAi8eS3QW7yMNRR5eeFXHpv30OZplTIrTlTwNMfERE5OTJv8bN+Z6q2hisAEXE1vOU4wMtqKzGQ6wrrswv8zmWaS7E/c7KIftnLWIELI/HkdX5n8kPDFQBALHbgRhX3fXi5NQg7E9Zb8vmV3X7nMs2hmMscpcIP8HLRD8l0xDsbdv5JQxYAQCy+7E7A6yrBe4fdWVer3jjLz0ym8Q3lsgcoXAG0eRj+tJScd4jsucXvXH5p2AIAiCZS5wK/8DRY5JCRgcR/23Rhsy3DudV7Oej1wBwPw8ccl2Oi85c853cuPzV0AQBEBsdOVsh6Gauq7yrmF/5SdaWXdjctZGhTenfBuYkKD549T1RP6ZibWuNzLN81fAHIzsvHnHL4HXi7KAhwbDE/6yJ7J2CeV8hl93FE7gC8zdFXOS/S0/tf/qYKRsMXAEBk3uJnEfetVN5kdCs5rpjfwUrAUMyn3wB6O+J1fr5cFkks/bS/qYLTFAUAEI0vu1+Fo5mYi+2BHl/I73CVPrGyNotKmJorDmT2VZVbgB5PByi3ReK5E0Sk0kpVDaNpCgAgFk/9XoR3A2Uv4wVdUeya/dv+/mynz9FMnSn0Zw9Xl9vx+ssv3DNSHlshcmQjL0z6L5qqAAAi8dT1AqcwsU2TFwfPEl1pk4VaRzGX/TCiN+Jpfj+A/MUNhY+cP395wddgNdB0BQAQSaR+qMKpeC+BfQnrmkIuW2lHItPAVNUp5DLnKPojvN3nB+VRRzmss3PxJn/T1UZTFgBALJ66QIVP4r0EdhR0dTGfPdrPXKY2dF16zsjAmsuBz07hsIfFDR/U0ZP8u1+5aq1pCwAgFk+dj8hpeCwBhaiqXlPIpb9g6wk0j6GNa15bjEhWVd81hcMeZFyWN+IDPlPR1AUAEI0n/0OQj+DxwiDggHyzmM9eNziYTviZzfhvuD/7Tifk3kPlDWdf7D63LXxIdEFyvV+56kXTFwBAJJH8saq8m6ltLXVUqCz3jmxKL/Erl/GPal+40J/9voj+CvB8l0chXXJKhzbrZ/6XaokCAIj1JK9WkTfjebIQADu6jqwq5DKftUlDjWNo45rXFvPjqxD95BQPvSI6OHZod/cb874Eq0MtUwAAsXhyJeIeBEzlok47cM5IfuEdAwOrX+1TNFMFquoU+jOnOSH3fmCKq0PLtyLx5Htl5+UeJ5I1h5YqAJiYMSjl8BJgSg9yKCwLu879w7nMR+0CYf0ZHEy/ZiSfvQPhe3h7mu9546J6UjSR/GKjLedVDS1XADDx7EBkcOxg4JdTOU4hKnDhSD67ypYaqw8Tn/UznwqV5QGFA6Z4eD+OvjnS03uRL+EaQEsWAEw8RRiJJz8AfA5vKwu9QGEZyB8Kucw5+twDEX8SmkoKA+lDi/nx+xG+C3RM5ViFbIjyvtHuXi/b0Detli0AABHRaCJ1rotzCN4fJ35eGPhssX3k4UI+e5yqtvT3Mkij+dU7FvOZq3DlVmCPKR6uqJwXjYcPnJM44Ck/8jUS+6EFOhNLV2l4/A2gN0/j8IWoXlrMZ+8ZzmeXVz2cecHAwKr4cH/mrLI6D6tyzDROMajCO6M9ydNEFo9XPWADsgLYKhY7cGMknnozEx8JpvPE176ienshl7nB9iesrlyur6uYz5zZ5ob/KsIZTO0iHzBxf78c0sWxeOoaHyI2LCuAFxERN5pInasa2g+4d5qnOdJ1yBZzmbvsHcHMbNiwMlrIZT7XzvgTqnwVdDorO48Bn4/G1x3Y1dX7WJUjNjwrgJcR61myNhLvTCl8kyleIHyewrKt7whWFvPZo+0agXej+cxOhVz62x1tc9YBZ+Nxnb6XUiTjlsuLoonUOSLHep0K3lLsh3IbRPbcEkukviSiU54z8BIHq+q1I/nsI4V89lRbfGTbhvPpg4r9mavLymMgn5nmX3yAUVROj8afemPnvAP+UtWQTcYmtHigqk4hn/0/gnxzBj+UAAgUVLnKFeeiWHzJXa04+eTFhodXz6fkvEeUE4HXz/R8IlztwGfmxFN/m3m66SnkMlcAx27r64r+NZborYtZpVYAU1BYn11Am56NcDxVePck8BjCJeWSc2XnvKWPVCFiQ9Bn+jqKs7esAHk/cAReF+eY/KxrcTi1Hu7rWwE0uUJ+9SJwvo1yWBVP+6AIV7vqXh1LLHuoiuetC0NDa3qcUvlN4LwV9K1ArEqnzqvw1Wj32IUiy6d1vabaCrnMZcB7tvV1gcciidSuAUbaJiuAGSjmskcqeg6wV5VP/ZQKN+PqzW4bt3V19eaqfH7fqaoU82v2Bo4U9C0KKaCaT1QOK1zghvS79fb9KfSnz0Pk1G2P0FXRRO+BwSXaNiuAGdq6ztwxInIGU1t0wqsy8ICgGcXJlpxyprt72eM+vM6MbNiwMjonPGd/R7VX0RRICqj6gioCBUUucNvku52dS/urff5qGM5nl4vq7dscoPKZaE/yuwFG2iYrgCpRVRkdyKxw1fkK6CKfX24jyh9BHxJkreA+VAq3PRLEL4RqX7iQK+0KvM4R3V1hD5A9QPeiKp/lt2kYuNBtC3+nERbrGM6lfyTIh//1K7oqMrj5iHp57NgKwAeFgfShuHIq8BYCvNU68ddRnwR5QtAnXZVNOOREJSeQEyWnIcYBSuIOztKwC1BSNyaiba66USlLWEIaVaQL1e1QeYU48kpUXwm8QmFHJp6DCOrf9LiK/v8t2n5xIrF4MKjXrYZCLv1eVXmXiL4WnL+jelMk0fmf9bSbsBWAjwYHs7u2lfUTCh9kCstSGRThNlHO74gnb2imnXjqjRVAAPS5ByLFWcVjUDkBOAj7vm/LMwiXqSsXxXqSf6p1mFZgP4gBGxu4Z5fxcvmDE1uY6W61zlMHhlCuQflFpGfdSpuyGywrgBoazq3eyxHnGFXeSfVvJdazHHCzKtdGR/R6Wdg7WutArcoKoE4MDqZf45R5E8gRAsup3kSZevFH0BtdQjfG4k+m7S99fbACqEOqfeHCwOaUgxysKimQ5EyfQQhYCXhQ0LTiZB117ujoWbKu1qHMv7ICaAATk43W7O7gJhHZb+LeO3vjdWtrf20BfVSEh1G53xVJj46P3tOMO+k2IyuABlZYn13ALHcvcZ1Xu+iOAjsK7KSwEzCPiT0NZsoFNgDrgadR1iP6qCP8uVRy/xSbO/54vczBN1NnBdDENmxYGY2F23tcJKFCQlW6cDUE4CBdiDgAihZVdYsjoRF13c2uw6gjblFKs9Z3zP3rBvu8bowxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxhi7XV1nAAAAFElEQVRjjDHGGGOMMcYYY4wxU/C/gI8P+iCZ6BUAAAAASUVORK5CYII="},function(e,a,t){e.exports=t.p+"static/media/takecamera_Default.5708043c.svg"},function(e,a,t){e.exports=t.p+"static/media/takecamera_Onpress.d1888e61.svg"},function(e,a,t){e.exports=t.p+"static/media/Retake_Button.bab926d4.svg"},function(e,a,t){e.exports=t.p+"static/media/Next_Button.172cd719.svg"},function(e,a,t){e.exports=t.p+"static/media/TextLogo.b48ca862.svg"},function(e,a,t){e.exports=t.p+"static/media/Back.d6595286.svg"},,function(e,a,t){},,,function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABRCAYAAABFTSEIAAAACXBIWXMAACxLAAAsSwGlPZapAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAM3SURBVHgB7ZzNi05RHMe/4yUSdmrkJW+lMPIyCyWa1SxMNpQNCyULSYZkJcVfYKmUhRU2FkishJ2E2IgwGvKaEE95mcfv5z6mabrnzL33d5/fOfc+v099mrr3Oc89fefee8557jkXMAzDMIyCdEEXPt4AuZOchXL5SZ4hr6HGHCObbfYIaspStD+8/y6AEpOgx0rosRZKaAY4DXqoHUszwFpiAQqJJUDu2nTldAciwM5AIRagkLwjkR5yL7m4QNlucr1j313yPcr7vgfka+TnOXmq9bd0esmv0OsMh/Iz3P8YEfcBNDvEW8hInsvwDzrnnvmbnJrlg3kC+YjO4U3WD05GdhrkFnQGB8mHKBk+W3eTw6jW/SyrI+QQuR+GYXQKeRqR8fAzjaPkILmRfIKkE1oFeETFjxf2kXPIx+QvKMIHfQSlHnzJpI2oeJBQ9kMuL4ch7MEHxDWiUm19LzsqoXoZFIRHVGl1P4cCFB2aucpNQfy46j4dJX6ZkRELUEjIAPnYB8h3SO5LfHPP0opvJu8hud/y0OsQKshVuMeUWRlMKcthrvKUWYKkuyRpQV31vghFygjQ9aPECU+Z044yQ8hOqQGGvITnObYvdxdxznlRmwsznhgbkSJ10p6mN4q1wkIsQCEWoBALUIgFKMQCFGIBCrEAhViAQixAIRagEAtQiAUoxAIUYgEKsQCFWIBCLEAhFqAQC1CIBSgkZIDNnNuZEURGyAA/OLY/dRf5Nws2jVcIRMgAT6Zs4wUuZz1leGbCt5Ttx1ExypjaMXbdCU8UukmuyVBuHXkHyXKsIus6ajM3JhS1mRtTCyxAIRagkKIBNjz7ZiNeZnr2fUcBigY47NnXi3jp9+x7BkX4nS2u1uw64sW1voUdgCJz4V97ux3xsQfu+v4g50MZX1+w0apwLOxCEpKrvlcQgH74z0KWL5lt5Azow43ZViS3lInq2YdAXMLElYvdCwjIIlT7HQo8lu5GYDaQn1Ct4JqtOvcgEnh10UtUJzy+alYjMvhS4F80Yg/vPLkQEdOHpIvj6zZo+4W8QW5CybRzhQ+/Im8FkjfqLoN+V4ZD48cDL8jb5FsYRu34C47j1Fo0dZU7AAAAAElFTkSuQmCC"},function(e,a,t){e.exports=t.p+"static/media/Header.787397f2.svg"},function(e,a,t){e.exports=t.p+"static/media/List.474b1bd1.svg"},function(e,a,t){e.exports=t.p+"static/media/BreadClick.ba6cb344.svg"},function(e,a,t){e.exports=t.p+"static/media/TomatoClick.7a4355c5.svg"},function(e,a,t){e.exports=t.p+"static/media/CeleryClick.cd91cfd2.svg"},function(e,a,t){e.exports=t.p+"static/media/PorkClick.e13d6f05.svg"},function(e,a,t){e.exports=t.p+"static/media/icon_home.32ed2c0c.svg"},function(e,a,t){e.exports=t.p+"static/media/icon_like.0e5bb0e6.svg"},function(e,a,t){e.exports=t.p+"static/media/icon_camera.98d90925.svg"},function(e,a,t){e.exports=t.p+"static/media/icon_history.c82c2993.svg"},function(e,a,t){e.exports=t.p+"static/media/icon_people.a92335a3.svg"},,function(e,a,t){e.exports=t.p+"static/media/unknow-ingredient.ed22726c.svg"},function(e,a,t){e.exports=t.p+"static/media/Egg, milk, and dairy product.3a0f54a2.svg"},function(e,a,t){e.exports=t.p+"static/media/Grains, nuts, and baking products.80396d64.svg"},function(e,a,t){e.exports=t.p+"static/media/Meat, sausages and fish.9e1e351c.svg"},function(e,a,t){e.exports=t.p+"static/media/Pasta, rice, and pulses.0bdd2188.svg"},function(e,a,t){},,function(e,a,t){e.exports=t.p+"static/media/Fats and oils.ced78b46.svg"},function(e,a,t){e.exports=t.p+"static/media/Herbs and spices.d50bfc95.svg"},,,function(e,a,t){e.exports=t.p+"static/media/chef.c71a47c5.png"},function(e,a,t){},function(e,a,t){},function(e,a,t){},,function(e,a,t){e.exports=t.p+"static/media/Checkbox.00578017.svg"},function(e,a,t){e.exports=t.p+"static/media/Checkbox_check.9af28406.svg"},function(e,a,t){e.exports=t.p+"static/media/tips.f9222780.svg"},function(e,a,t){e.exports=t.p+"static/media/heart-filled.a4fda5e9.svg"},function(e,a,t){e.exports=t.p+"static/media/heart-outline.bec7e939.svg"},function(e,a,t){e.exports=t.p+"static/media/Fruits.55d64a89.svg"},function(e,a,t){e.exports=t.p+"static/media/Other.7dc13f38.svg"},function(e,a,t){e.exports=t.p+"static/media/Vegetable.cca2d0fe.svg"},function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABRCAYAAABFTSEIAAAACXBIWXMAACxLAAAsSwGlPZapAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAUWSURBVHgB7VxXqBVXFF0ppJsCBkII+FI/UiS9J080XWK+QgL5SvkMJoFggvl5P8lPIEX8sH9YURALIjZQsWFDbIhieTbsihULet3LeSOXy5zZe+bOu3rOzIIFj/fmnPvOumvPOnNm5gAVKtxI3ILy4g7hAGE/4XvCXsJ7hOeFncJ5wiXCWcKLqHAd9wkHCY8JawZ2Cv8Q3ooKeFK4DjbhGrle+DhKjPeFJ5BPvJj7hC+ihOgjPIvmxIvJL+EJlAjvIAqBWoHkaeBelACfCQ8jXYyTwr+FXyFKZCbzCOiO/RmBg847g3QRZgp7Oto/imgK42p7HNFUKEi0Qw8MukybmvDvM1P6+AYBog905/1r7w6PICrzpH6GITBYA2MgsmGMo5/NCAgMjEOwpegV4Y+w42tHP6cRCCyBkcTvjf33c7S/jADQjvxXGHTi74bPGOBofw6eg+JpzpsLXcTvlM+Z6Gi7BR7DEhicqnDJrgO6iD85PucxuL+k/+EpPoUeGLF4MX6DLmJjOnMeuDilzZfwEJbA4DwvabFYE5H8oevY2+CevpCdwjvhGdphCwyuJLsG1wHdiYOFk5XjfoVnoHicd9WMnCO83dHXwAz9JHEDPFuhZtleQPaBroZ7saAD+cTjoqpXK9OfwH6FkcSpwrscfQ/K2Bf/D69WpOk8rWzHC/crxywSPuD4DKuI/D+ehUew3MOIpypt0EVcimQnsv1W6M57DR6B4mnOa1ySehq6iLzXWx8sDIJJ0MV7Dh7hbeiB4ZrnUcRdSts1iIKlh3AkdPFehUewBAYHnfZEBUXcp/QxDTbneVW2dJ5Wtn/C9jiKRcTSBYbmvEa0IZ+I3jmPD/ZozvsP+fCUcC+yiRdcYFC8Zp4io4i7EKDziggMC9h+NgIT7y0UFxhpYPtRCCwweM7TAoODLkK8icrn8LGP4AKjiGVyXmFYxHsJHoGBwcdnuzMwCF5hjEBgzvsIemC0qmx5+vAuME6hNYGhXdvyXopX87x3UQVGblA8zXlVYDjAsq0CIyc+xM0VGK/DI1gC4y80f0uQ4mnOY2A8D49gDYwixJuAwMqWd89cj8HGHILmYRUvyMBo1nl8x204AnPeB7AFRivK1svA0Mq2qMDQnMeXYrwKDJ7zWhUY46GXrVfOa2VgWMQLLjB4edaqwPDKeQyMg0gf1GhUZZuIKjCagCUwinLeOATmPH7TmnhFBYZFvBfgEdqER9D9gcE3v4MLDGIKbp6yfQOewfV2Yky+Il+EeMMQWGDE2IT0ge1AtNNPXgTrPIKrGTUDKWLP7N2HGRj1+Ac2AcmNiMLGCgaGVrbeOi8GX5OqZeB22MrZ4jymvtfi0SGXkE3A2Ilp5Rx0YNSDD/+klVaeYKF4YxG482L8guQB8g7Xw4icliVYrOJ5GxiNcL0eP6Pr7xRxJ2zBYgkMivcmAsIeJA90cN0xvWBzonbTOzjxesM92L4Nx1rKOY3c7SKYso3xLZIHy6fo7044nk7UyrkUzosxFMkDXp7ShvtK7UY28XojINS/udjfccyGup+5JRxv4rD8vkD0sGIP2HBU+HlDf8HgIbhdwyTlet1a5NteKeiyjcF9WGrdRJ4nn0GgiNf0+qJ7MF34inAbAsdCFOs67pbRHyXB/Wh+f2We4xYgukfyMkoEpjBT9UFkwwHhCuF8RBNq8hRKCApoWUJaiSiFVyFy2n5UuAYK+HHD7zhf477xyxDtt7Kx63cVEnAVAGnY8UQnk+oAAAAASUVORK5CYII="},function(e,a,t){e.exports=t.p+"static/media/Add_btn.92f877a1.svg"},function(e,a,t){e.exports=t.p+"static/media/Search-Icon.b16c5049.svg"},function(e,a,t){e.exports=t.p+"static/media/Banner1.8f303be8.svg"},function(e,a,t){e.exports=t.p+"static/media/Banner2.e052e89e.svg"},function(e,a,t){e.exports=t.p+"static/media/Banner3.d07d9286.svg"},function(e,a,t){e.exports=t.p+"static/media/Banner4.17957563.svg"},function(e,a,t){e.exports=t.p+"static/media/Random-menu.56b3e6e3.svg"},function(e,a,t){e.exports=t.p+"static/media/News.36be35c4.svg"},function(e,a,t){e.exports=t.p+"static/media/Logo.79899453.svg"},function(e,a,t){e.exports=t.p+"static/media/picAboutMe2.c72d9246.jpg"},function(e,a,t){e.exports=t.p+"static/media/picAboutMe3.7804ca5b.svg"},function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABTCAQAAACijEiIAAAACXBIWXMAAAsSAAALEgHS3X78AAAAG3RFWHRTb2Z0d2FyZQBDZWxzeXMgU3R1ZGlvIFRvb2zBp+F8AAAEwUlEQVRogdWbW0wcVRjHf4MCD9iWtsFeYlv3tIpFbaxaqFEoBe16g0qMbYIxNfHBB43aaoyxXpIqiUmTqok+mGhiY1xDGkMFtAWFUvCCeMGgpWrIV9tqvBCrrfBAq6wPywK7Ozt75izLzP6fZs/+5//9d3Yu5/vON1aYdKBWsJYSLmE5i1lAAXlYnGWEU/zGCYY4Qr8cTyeCZW5QzaeJDRrEw9TJX6ZR0jG4m8c0qbvlcdMo6RjspUyT2ivXmUYxNqjO4zQFmuQRCuU/szjmBov53gW9WH40i2NucAuNLuhbZJ9ZHHODDTzpgt4gT5nFMTfYym0u6K1SYxbH3OAJlrmgn5TlZnEMDaqFDGO52CFMkfxpEsnU4EY6Xe5SJYdMItkaVAv5R8467aa2s8dlpB3yoqNiHnPsjnGCQbWAfVRxhv2E6JB/k8gd4GaXBg/IrUm0zqeaeu5gLp3cJaccDap8PqR88uPvNBIK9x2L+xWqgi5XZyDAOJXSEzsUsKxS6tnKosmhHm6SMSeDb7ItQXqIECH5YZJzPU0UubQHMEydfDKpUkw99axKYO2Ve5MaVA/wSlL5r2hiiPkEqSXHwB7AOM0c5G9WUcc1SVkPyqu2BtVV9JJvGHomMcZ6+Sb6YdKgyudLrvDIUjy+49romThlcBdPe2YoEbvk2cjGhEF1KQO++HujGGNNZIIWNfgetZ4aSkSzbIYJg+oGelLQvUC5fBw1+BHVXruxQYfcCFYYtY4+r70kQZn0WWHU29R77SQJQnK3FSjipK+u3+kYY5kVeIiXvfbhgIetwKcYJ9WzgM+swIh2+u2MX+lmkGGgiBIqWDIjqqNWoI1Nacu8zx66ZHxqQOVQyQ5XeZ892q3AElq5Og2Jn7lP2u2/Upt4g4vS0P6aGiuMKuAt6gwlvuB2+SP51+pCWig11G7iHhmNPElyaOAJA4kBKuS0M0XNo5s1BtovsFPGp0+3tvGay/vhGdaKpKYpRT9zXSmPcb/sjWxOn1GX866rXGO7vKRHVI/gmHLGYZg7p9Kr2JxE0UKJpswvrIzNv5JD5SMs1dQdpGb6/xKf1c2jkaCWkKt6lXqenVrENrbGntWJiXsu7VRqSK2Xz/XMAagyejVohwjKudghm9KHWs2RlGn5OS5wLo7EaeYxQm4KUpgSSaja2tdmBrgyhdhxuVjX3ITmT6xIQflWbG5H9gZTV16Oiu7FFNUcZHUKykG5JXEwG4+guoxBj87By+VoSoMqlzY2asTMxFXcRTD+Z8/WfVB3TcD5PujzJ4nPn8UZnM2spJ85rpTjZzMZnQ8WcjjN+WBaM+o+ahxn1ItoYZ2hdmRGHVhKS8ZykiCvp52TzFRWF+46Ni2rC+RYlTxKkoUHF2jPVF68gcUzojrq98pCbxbUZvxe3fJ9fTCMKsXFvGRWEamwguqgymsvNuiU6myp8oNqxrDpIWNokVrInpUm363VPSfPRDayZ7XT9+vFoLXiXkiQzR6tuINDz8I7U1UTD3sWtLs+yulyfRTDVEp37JBB14d238wH2NRRHGFbeQGXfTMTu/i580gPHvdupYbvu9983z+YDR2Yvu9h9X0XsO/7qP3eie77Xv5seBvC7++TwGy8kfM//dgR2GW1PZUAAAAASUVORK5CYII="},function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAApJJREFUSInVlU2ITWEcxn//95475y6MDMVmFvIRCyFfU8IKo/EV6sZ5R9M0K2RhQVkZO2UhTUK6hrnnPWcjlCRZSYopycJXXaysfCQs3Pk4f5urrsl7GNl4lu/znN/zf996zwv/uyTPrFar80SkU0Sm/MpX1a8icsta+3rSBUNDQ4sKhcIw8AL44IlNBxaIyIooil54CyqVSmsYhqtEZHqTtxOYY63t8A0B4Jy7B7wBbvxYU9WP9Xp9uK+v70vgnFsO3ARagfpP7SIX8uAN2F0R2Q9safouDMPwc5qmWyWO4wfAo1qtdrC/vz/7HfBPpKqSJMkpYHUgIstF5FAefHBwsNTS0tIpIksagCcjIyO3e3t7vzXnqtXqNmPMbGDAGBNnWXbAAIGqjvvgcRxvCcOwBjhV3aCqG4EkDMNamqabm7PGmCHgdBzHi7MsGwMCk7dV59x2EbmmqpfHx8dnWWvXWmvXFIvFWVmWVbMsu54kydamozmsqifb29uf/lgT55wCHdba4WZ4pVJpLZVKr4Az1trjngGOAfuKxeK8crn8dYK3FHjs3UGpVNoB0NbWdsKXaXhmdHR0uy+Td0RLgftdXV11X6Dh3QeW/U1BgQn3wqM6EEy6QESeAStV1fs7aXgrgKe+jLcgCIKrwMwkSbp9mSRJ9gIzReTqpAvK5fI74Ahwzjm3+xfwPcBZETkcRdF776A+A8BaezZJkkBVLzrnjgL3GtY6VZ2rqkestefzGAbIjDHec46iaGBsbGy+iMTAVKBVRC4ZY+Z3d3efyWEXgCxQ1Zequh546Ev29PS8BU7mTTpRIrJJVZ+Lc64LuEL+wzJZzQAWquouAUjTdLaqdqrqtH9BF5FPqnon7yn9f/QdA2cE8e6LV5cAAAAASUVORK5CYII="},function(e,a,t){e.exports=t.p+"static/media/Grab.d1339392.svg"},function(e,a,t){e.exports=t.p+"static/media/Line_man.57b497be.png"},function(e,a,t){e.exports=t.p+"static/media/Favorite.a4fda5e9.svg"},function(e,a,t){e.exports=t(112)},,,,,,function(e,a,t){},function(e,a,t){},,,,,function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(58),c=t.n(s),l=t(6),i=(t(90),t(4)),o=t(3);t(91);const m=()=>{try{return localStorage.getItem("user_id")}catch(e){return console.error("Failed to get userId:",e),null}},u=e=>{try{return e?(localStorage.setItem("user_id",e),!0):(console.error("Invalid userId"),!1)}catch(a){return console.error("Failed to save userId:",a),!1}},d=()=>null!==m(),p=()=>{try{return localStorage.removeItem("user_id"),console.log("User logged out successfully"),!0}catch(e){return console.error("Failed to logout:",e),!1}},g=e=>{const a=m();a&&localStorage.setItem("ingredients_".concat(a),JSON.stringify(e))},E=()=>{const e=m();if(!e)return[];const a=localStorage.getItem("ingredients_".concat(e));try{return a?JSON.parse(a):[]}catch(t){return console.error("Error parsing ingredients from localStorage:",t),[]}},v=()=>{const e=m();if(!e)return[];try{const a=localStorage.getItem("cameraIngredients_".concat(e));return a?JSON.parse(a):[]}catch(a){return console.error("Error getting camera ingredients from localStorage:",a),[]}},h=e=>{const a=m();if(a)try{localStorage.setItem("cameraIngredients_".concat(a),JSON.stringify(e))}catch(t){console.error("Error saving camera ingredients to localStorage:",t)}},b=e=>{const a=e||m();if(!a)return[];try{const e=localStorage.getItem("shoppingList_".concat(a));return e?JSON.parse(e):[]}catch(t){return console.error("Error getting shopping list:",t),[]}},N=(e,a)=>{const t=a||m();if(t)try{localStorage.setItem("shoppingList_".concat(t),JSON.stringify(e))}catch(n){console.error("Error saving shopping list:",n)}};var f=t(59),y=t.n(f),w=t(60),A=t.n(w),k=t(113),O=t(43),C=t.n(O),j=t(16),S=t.n(j),I=t(61),_=t.n(I),x=t(62),B=t.n(x),R=t(63),P=t.n(R),F=t(17),U=t.n(F),M=t(10),D=t.n(M),X=t(18),L=t.n(X),T=t(19),G=t.n(T),V=t(20),q=t.n(V),Y=t(21),K=t.n(Y),H=t(22),z=t.n(H),Z=t(23),W=t.n(Z);t(48);var J=()=>{var e;const a=Object(n.useRef)(null),[t,s]=Object(n.useState)(null),[c,l]=Object(n.useState)(!1),[o,m]=Object(n.useState)("environment"),u=Object(i.p)(),d=null===(e=Object(i.n)().state)||void 0===e?void 0:e.menu_id,p=Object(n.useCallback)(()=>{if(a.current){const e=a.current.getScreenshot();s(e),l(!1)}},[a]),g=()=>u(-1);return r.a.createElement("div",{className:"camera-container"},t?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"camera-header"},r.a.createElement("span",{className:"header-title"},"Preview"),r.a.createElement("img",{src:D.a,className:"close-button",alt:"Close",onClick:g})),r.a.createElement("img",{src:t,alt:"Captured",className:"captured-image"}),r.a.createElement("div",{className:"camera-buttom-preview"},r.a.createElement("button",{onClick:()=>s(null),className:"retake-button styled-button"},r.a.createElement("img",{src:z.a,alt:"Retake",className:"button-image"})),r.a.createElement("button",{onClick:()=>{t&&u("/menu-detail",{state:{sharedDishImage:t,menu_id:d,replace:!0}})},className:"send-button styled-button"},r.a.createElement("img",{src:W.a,alt:"Next",className:"button-image"})))):r.a.createElement(r.a.Fragment,null,r.a.createElement(U.a,{audio:!1,ref:a,screenshotFormat:"image/jpeg",className:"webcam-view",videoConstraints:{facingMode:o}}),r.a.createElement("div",{className:"camera-header"},r.a.createElement("span",{className:"header-title"},"Take your dish photo"),r.a.createElement("img",{src:D.a,className:"close-button",alt:"Close",onClick:g})),r.a.createElement("div",{className:"camera-buttom"},r.a.createElement("div",{className:"upload-container"},r.a.createElement("img",{src:L.a,alt:"Upload",onClick:()=>document.getElementById("fileInput").click(),className:"upload-image"})),r.a.createElement("button",{onClick:p,className:"camera-button",onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1)},r.a.createElement("img",{src:c?K.a:q.a,alt:"Camera Button",className:"camera-button-img"})),r.a.createElement("div",{className:"swap-container"},r.a.createElement("img",{src:G.a,alt:"Swap Camera",className:"swap-camera",onClick:()=>{m(e=>"environment"===e?"user":"environment")}})),r.a.createElement("input",{type:"file",accept:"image/*",onChange:e=>{const a=e.target.files[0];if(a){const e=new FileReader;e.onloadend=()=>s(e.result),e.readAsDataURL(a)}},id:"fileInput",style:{display:"none"}}))))},Q=t(8),$=t.n(Q),ee=t(7),ae=t.n(ee);const te=async(e,a)=>{let t=(()=>{const e=localStorage.getItem("images");try{return e?JSON.parse(e):{ingredient:{}}}catch(a){return console.error("Error parsing images from localStorage:",a),{ingredient:{}}}})();t&&Array.isArray(t.menu)||(t={menu:[],ingredient:{}});const n=e.filter(e=>!t.menu.some(a=>a.name===e.name)),r=a.filter(e=>!(e in t.ingredient));if(console.log("missingMenuItems:",n),console.log("missingIngredients:",r),n.length>0||r.length>0)try{const e=(await k.a.post("".concat("https://souscook-production.up.railway.app/api","/get_ingredient_image"),{ingredients:r})).data,a={menu:[...t.menu,...n.map(e=>({name:e.name,image:e.image}))],ingredient:Object(o.a)(Object(o.a)({},t.ingredient),Object.fromEntries(e.map(e=>[e.ingredient,e.imageUrl])))};return s=a,localStorage.setItem("images",JSON.stringify(s)),console.log("Fetched images:",a),a}catch(c){return console.error("Error fetching images:",c),t}var s;return t},ne=e=>e?e.replace(/\btablespoons?\b/gi,"tbsp").replace(/\bteaspoons?\b/gi,"tsp").replace(/\bgrams?\b/gi,"g").replace(/\bmilliliters?\b/gi,"ml"):e,re=e=>{const a=parseFloat(e)||0,t=Math.round(a);return[5,4,3,2,1].map(e=>r.a.createElement("span",{key:e,className:"fa fa-star fa-1x star-base ".concat(e<=t?"star-check":"")}))},se=e=>{let a=ae.a,t="".concat("https://souscook-production.up.railway.app","/uploads/avatars/").concat(e.avatar);return a="".concat(t,"?t=").concat(Date.now()),r.a.createElement("img",{src:a?"".concat(a):ae.a,className:"my-review-pro",alt:"avatar"})},ce=e=>e.updated_at?(e.updated_at=e.updated_at.split("T")[0],r.a.createElement("div",{className:"show-date-review"},e.updated_at)):(e.created_at=e.created_at.split("T")[0],r.a.createElement("div",{className:"show-date-review"},e.created_at));var le=()=>{var e,a,s,c;const l=Object(i.p)(),u=Object(i.n)(),{menu:d,menu_id:p,isRandomMenu:g=!1}=u.state||{},v=null===(e=u.state)||void 0===e?void 0:e.sharedDishImage,[h,f]=Object(n.useState)(d||null),[w,O]=Object(n.useState)([]),[j,I]=Object(n.useState)({}),[x,R]=Object(n.useState)([]),[F,U]=Object(n.useState)(!1),[M,D]=Object(n.useState)(!1),[X,L]=Object(n.useState)(!1),[T,G]=Object(n.useState)([]),[V,q]=Object(n.useState)([]),[Y,K]=Object(n.useState)([]),[H,z]=Object(n.useState)(!1),[Z,W]=Object(n.useState)(!1),[J,Q]=Object(n.useState)(v||t(54)),[ee,le]=Object(n.useState)(!!v),[ie,oe]=Object(n.useState)(!1),me=Object(n.useRef)(null),[ue,de]=Object(n.useState)(!1),[pe,ge]=Object(n.useState)([]),[Ee,ve]=(null===(a=u.state)||void 0===a||a.image,Object(n.useState)("")),[he,be]=Object(n.useState)(!1),[Ne,fe]=Object(n.useState)({sum_rating:0,avg_rating:0,rate_5:0,rate_4:0,rate_3:0,rate_2:0,rate_1:0,percent_rate_5:0,percent_rate_4:0,percent_rate_3:0,percent_rate_2:0,percent_rate_1:0}),[ye,we]=Object(n.useState)({menu_id:"",comment:"",rating:"",created_at:"",updated_at:"",username:"",avatar:"",avatar_url:ae.a}),[Ae,ke]=Object(n.useState)({user_id:"",menu_id:"",comment:"",rating:""}),[Oe,Ce]=Object(n.useState)({username:"",avatar:"",avatar_url:ae.a}),[je,Se]=Object(n.useState)(!1),[Ie,_e]=Object(n.useState)(!1),xe=m(),Be=p||(null===h||void 0===h?void 0:h.menu_id),Re=()=>{l(-1)},Pe=(e,a)=>{R(t=>t.find(a=>a.name===e)?t.filter(a=>a.name!==e):[...t,{name:e,quantity:a,image:j[e]||C.a}])};Object(n.useEffect)(()=>{const e=E();G(e)},[]);const Fe=e=>{ke(Object(o.a)(Object(o.a)({},Ae),{},{[e.target.name]:e.target.value}))};Object(n.useEffect)(()=>{if(!xe||isNaN(xe))return console.error("Invalid userId:",xe),void l("/login");(async()=>{try{const e=(await k.a.get("".concat("https://souscook-production.up.railway.app","/api/users/").concat(xe))).data.user;Ce(e),e.avatar_url&&Ce(a=>Object(o.a)(Object(o.a)({},a),{},{avatar_url:"".concat(e.avatar_url,"?t=").concat(Date.now())}))}catch(e){console.error("Error fetching user data:",e)}})()},[xe,l]),Object(n.useEffect)(()=>{!h&&p&&(console.log("Fetching menu by ID:",p),k.a.get("".concat("https://souscook-production.up.railway.app/api","/menus/").concat(p)).then(e=>{console.log("Menu fetched:",e.data),f(e.data)}).catch(e=>console.error("Error fetching menu by ID:",e)))},[p,h]),Object(n.useEffect)(()=>{if(!h||!h.ingredients_quantity)return;const e=Object.keys(h.ingredients_quantity),a=[h];let t=!1;return(async()=>{U(!0);try{const n=await te(a,e);if(!t){I(n.ingredient||{});const e=n.menu.find(e=>e.menu_name===h.menu_name);e&&e.image&&f(a=>Object(o.a)(Object(o.a)({},a),{},{image:e.image}))}}catch(n){console.error("Error fetching images:",n)}finally{t||U(!1)}})(),()=>{t=!0}},[null===h||void 0===h?void 0:h.menu_name]),Object(n.useEffect)(()=>{if(!Be)return;const e=m();e&&(console.log("Saving to history - userId:",e,"menu_id:",Be),k.a.post("".concat("https://souscook-production.up.railway.app/api","/history"),{user_id:e,menu_id:Be}).then(e=>{console.log("History saved successfully:",e.data)}).catch(e=>{var a;console.error("Error saving history:",(null===(a=e.response)||void 0===a?void 0:a.data)||e.message)}))},[Be]),Object(n.useEffect)(()=>{(async()=>{const e=m();if(e&&Be)try{const a=await k.a.get("".concat("https://souscook-production.up.railway.app/api","/favorites/").concat(e)),t=a.data.map(e=>e.menu_id).includes(Be);D(t)}catch(a){console.error("Error fetching favorites:",a)}})()},[Be]),Object(n.useEffect)(()=>{(async()=>{const e=m();if(e&&(null===h||void 0===h?void 0:h.ingredients_quantity))try{const t=await k.a.get("".concat("https://souscook-production.up.railway.app/api","/users/").concat(e)),n=(t.data.user.allergies||[]).map(e=>e.toLowerCase());if(q(n),0===n.length||Z)return;const r=Object.keys(h.ingredients_quantity);try{const e=await k.a.post("".concat("https://souscook-production.up.railway.app/api","/analyze-allergies"),{ingredients:r,allergies:n}),{alerts:a}=e.data;a&&a.length>0&&(K(a),z(!0))}catch(a){console.error("Error checking allergies with GPT, using fallback:",a);const e=[];r.forEach(a=>{const t=a.toLowerCase();n.some(e=>t.includes(e))&&e.push(a)}),e.length>0&&(K(e),z(!0))}}catch(t){console.error("Error fetching user allergies:",t)}})()},[null===h||void 0===h?void 0:h.ingredients_quantity,Z]),Object(n.useEffect)(()=>{!v||he||ue||(Q(v),le(!0))},[v,he,ue]);const Ue=async()=>{try{const e=await k.a.get("".concat("https://souscook-production.up.railway.app","/api/menu-detail/").concat(Be,"/reviews")),{reviews:a,menu_id:t,sum_rating:n,avg_rating:r,rate_5:s,rate_4:c,rate_3:l,rate_2:i,rate_1:o}=e.data;if(!Be)return void console.error("Backend did not return a valid menu_id.");we(a[0]),fe({review_lenght:a.length,sum_rating:n||0,avg_rating:r||0,rate_5:s||0,rate_4:c||0,rate_3:l||0,rate_2:i||0,rate_1:o||0,percent_rate_5:a.length>0?s/a.length*100:0,percent_rate_4:a.length>0?c/a.length*100:0,percent_rate_3:a.length>0?l/a.length*100:0,percent_rate_2:a.length>0?i/a.length*100:0,percent_rate_1:a.length>0?o/a.length*100:0});const m=!(!a||!Array.isArray(a))&&a.some(e=>String(e.user_id)===xe);Se(m),console.log("check has review in fetch",m,xe)}catch(e){console.error("Error fetching review data:",e)}};return Object(n.useEffect)(()=>{Ue()},[Be]),h?r.a.createElement("div",{className:"menu-detail-container"},r.a.createElement("div",{className:"image-header"},r.a.createElement("button",{className:"back-button",onClick:Re}),r.a.createElement("button",{className:"favorite-button",onClick:async()=>{const e=m();if(e&&Be)try{M?(await k.a.delete("".concat("https://souscook-production.up.railway.app/api","/favorites"),{data:{user_id:e,menu_id:Be}}),D(!1)):(await k.a.post("".concat("https://souscook-production.up.railway.app/api","/favorites"),{user_id:e,menu_id:Be}),D(!0))}catch(a){console.error("Error toggling favorite:",a)}else console.error("Missing userId or menu_id for favorite")}},r.a.createElement("img",{src:M?B.a:P.a,alt:"Favorite"})),r.a.createElement("img",{src:h.image||S.a,alt:h.menu_name,className:"menu-image-large"})),H&&Y.length>0&&r.a.createElement("div",{className:"allergy-popup-overlay"},r.a.createElement("div",{className:"allergy-popup"},r.a.createElement("div",{className:"allergy-popup-content"},r.a.createElement("h2",null,"\u26a0\ufe0f Food Allergy Alert"),r.a.createElement("p",null,"This recipe contains :"),r.a.createElement("ul",{className:"allergy-list"},Y.map((e,a)=>r.a.createElement("li",{key:a},r.a.createElement("strong",null,e)))),r.a.createElement("button",{className:"allergy-confirm-btn",onClick:()=>{z(!1),W(!0)}},"I Understand")))),r.a.createElement("div",{className:"text-container"},r.a.createElement("div",{className:"menu-header"},r.a.createElement("h1",null,h.menu_name),r.a.createElement("p",null,"Prep time: ",h.prep_time||"N/A"),r.a.createElement("p",null,"Cooking time: ",h.cooking_time||"N/A")),r.a.createElement("h2",null,"Ingredients"),r.a.createElement("div",{className:"ingredientAndSeasoning-container"},h.ingredients_quantity&&Object.entries(h.ingredients_quantity).filter(e=>{var a;let[t]=e;const n=null===(a=h.ingredients_type)||void 0===a?void 0:a[t];return n&&"miscellaneous items"!==n.toLowerCase()}).map((e,a)=>{let[t,n]=e;return r.a.createElement("div",{key:a,className:"ingredient-item".concat(x.some(e=>e.name===t)?" selected":""),onClick:()=>Pe(t,n)},r.a.createElement("img",{src:j[t]||C.a,alt:t,className:"ingredients-image"}),r.a.createElement("p",{className:"header",title:t},t),r.a.createElement("p",null,ne(n)))})),r.a.createElement("h2",null,"Seasoning/Dressing"),r.a.createElement("div",{className:"ingredientAndSeasoning-container"},h.ingredients_quantity&&Object.entries(h.ingredients_quantity).filter(e=>{var a;let[t]=e;const n=null===(a=h.ingredients_type)||void 0===a?void 0:a[t];return n&&"miscellaneous items"===n.toLowerCase()}).map((e,a)=>{let[t,n]=e;return r.a.createElement("div",{key:a,className:"ingredient-item".concat(x.some(e=>e.name===t)?" selected":""),onClick:()=>Pe(t,n)},r.a.createElement("img",{src:j[t]||C.a,alt:t,className:"ingredients-image"}),r.a.createElement("p",{className:"header",title:t},t),r.a.createElement("p",null,ne(n)))})),r.a.createElement("div",{className:"missing-ingredients"},r.a.createElement("p",{className:"missing-text"},"Missing some ingredients?"),r.a.createElement("button",{className:"add-to-list-button",onClick:()=>{const e=m();if(e){if(x.length>0){const a=[...b(e),...x],t=[...new Map(a.map(e=>[e.name,e])).values()];N(t),l("/shoppinglist",{state:{missingIngredients:x}})}}else l("/login")},disabled:0===x.length},"Add to list")),r.a.createElement("h2",null,"Instructions"),r.a.createElement("ul",{className:"instructions-list"},null===(s=h.steps)||void 0===s?void 0:s.map((e,a)=>r.a.createElement("li",{key:a,className:w.includes(a)?"checked-step":""},r.a.createElement("label",{className:"checkbox-label"},r.a.createElement("input",{type:"checkbox",checked:w.includes(a),onChange:()=>(async e=>{var a;let t;t=w.includes(e)?w.filter(a=>a!==e):[...w,e],O(t);const n=(null===(a=h.steps)||void 0===a?void 0:a.length)||0;if(t.length===n&&n>0&&!X){const e=m();if(e&&Be)try{await k.a.post("".concat("https://souscook-production.up.railway.app/api","/meal-completions"),{user_id:e,menu_id:Be}),L(!0),console.log("Congratulations! Meal completed!")}catch(r){console.error("Error saving meal completion:",r)}}})(a),className:"custom-checkbox"}),r.a.createElement("span",{className:"custom-checkbox-styled"},r.a.createElement("img",{src:w.includes(a)?A.a:y.a,alt:"Checkbox"})),e)))),r.a.createElement("h2",null,"Tips"),r.a.createElement("div",{className:"tips-container"},(null===(c=h.tips)||void 0===c?void 0:c.length)>0?r.a.createElement("ul",{className:"tips-list"},h.tips.map((e,a)=>r.a.createElement("li",{key:a,className:"tip-item"},r.a.createElement("img",{src:_.a,alt:"tip icon",className:"tip-icon"}),r.a.createElement("span",null,e)))):r.a.createElement("p",null,"No tips needed, just follow along and bon app\xe9tit!")),r.a.createElement("h2",null,"Nutrition (per serving)"),r.a.createElement("div",{className:"nutrition-container"},h.nutrition?r.a.createElement("ul",null,r.a.createElement("li",null,"Calories: ",h.nutrition.calories||"N/A"),r.a.createElement("li",null,"Protein: ",h.nutrition.protein||"N/A"),r.a.createElement("li",null,"Fat: ",h.nutrition.fat||"N/A"),r.a.createElement("li",null,"Carbohydrates: ",h.nutrition.carbohydrates||"N/A"),r.a.createElement("li",null,"Sodium: ",h.nutrition.sodium||"N/A"),r.a.createElement("li",null,"Sugar: ",h.nutrition.sugar||"N/A")):r.a.createElement("p",null,"No nutrition data available."))),r.a.createElement("div",{className:"share-dish-container"},r.a.createElement("img",{src:J,alt:"dish",className:"chef"}),r.a.createElement("h3",null,"Share your dish"),!ee&&r.a.createElement("div",{className:"dish-photo-buttons"},r.a.createElement("button",{className:"dish-take-photo-button",onClick:()=>l("/camera-share-dish",{state:{menu_id:Be},replace:!0})},"Take a photo"),r.a.createElement("button",{className:"dish-select-photo-button",onClick:()=>me.current.click()},"Select photo"),r.a.createElement("input",{type:"file",accept:"image/*",ref:me,style:{display:"none"},onChange:e=>{const a=e.target.files[0];if(!a)return;const t=new FileReader;t.onload=()=>{Q(t.result),le(!0)},t.readAsDataURL(a)}})),ee&&r.a.createElement("div",{className:"dish-submit-buttons"},r.a.createElement("textarea",{placeholder:"Write a caption...",value:Ee,onChange:e=>ve(e.target.value),className:"dish-caption-box"}),r.a.createElement("div",{className:"dish-button-row"},r.a.createElement("button",{className:"dish-share-button",onClick:async()=>{if(!J||!Be)return;const e=m();if(e)try{const a=await(async(e,a)=>{const t=await fetch(e),n=await t.blob();return new File([n],a,{type:n.type})})(J,"dish.png"),t=new FormData;t.append("image",a),t.append("user_id",e),t.append("menu_id",Be),t.append("caption",Ee),await k.a.post("".concat("https://souscook-production.up.railway.app/api","/community"),t,{headers:{"Content-Type":"multipart/form-data"}}),l("/community",{state:{dishImage:J,menu_id:Be}})}catch(a){console.error("Upload failed:",a)}}},"Submit"),r.a.createElement("button",{className:"dish-retake-button",onClick:()=>{Q(t(54)),le(!1),ve(""),be(!0)}},"Cancel")))),r.a.createElement("div",{className:"go-community-container"},r.a.createElement("button",{className:"go-community-button",onClick:()=>l("/community",{state:{dishImage:J,menu_id:Be}})},"See the Community")),r.a.createElement("div",{className:"review-container-in-menu"},r.a.createElement("div",{className:"rating-container"},r.a.createElement("div",{className:"top-blank"}),r.a.createElement("div",{className:"pic-logo"},r.a.createElement("img",{src:$.a,id:"logo-review",alt:"Sous Cook Logo"}),r.a.createElement("div",{className:"caption-review"},"Review this recipe"),r.a.createElement("div",{className:"star-rating menu-rate"},re(Ne.avg_rating)))),r.a.createElement("div",{className:"review-container menu-detail-review-container"},r.a.createElement("div",{className:"rw-rt"},r.a.createElement("div",{className:"rw"},Ne.review_lenght," reviews"),r.a.createElement("div",{className:"rt"},Ne.sum_rating," ratings")),r.a.createElement("div",{className:"detail-rating"},r.a.createElement("div",{className:"left-rating"},r.a.createElement("div",{className:"rating-this-menu"},Ne.avg_rating),r.a.createElement("div",null,"out of 5")),r.a.createElement("div",{className:"right-rating"},r.a.createElement("div",{className:"row-rate-right"},r.a.createElement("div",{className:"right-star"},re(5)),r.a.createElement("div",{className:"all-rate"},r.a.createElement("div",{className:"progress-bar-rate"},r.a.createElement("div",{className:"percent-progress-bar",style:{width:"".concat(Ne.percent_rate_5,"%")}}))),r.a.createElement("div",{className:"num-rate"},r.a.createElement("div",{className:"num-review"},Ne.rate_5))),r.a.createElement("div",{className:"row-rate-right"},r.a.createElement("div",{className:"right-star"},re(4)),r.a.createElement("div",{className:"all-rate"},r.a.createElement("div",{className:"progress-bar-rate"},r.a.createElement("div",{className:"percent-progress-bar",style:{width:"".concat(Ne.percent_rate_4,"%")}}))),r.a.createElement("div",{className:"num-rate"},r.a.createElement("div",{className:"num-review"},Ne.rate_4))),r.a.createElement("div",{className:"row-rate-right"},r.a.createElement("div",{className:"right-star"},re(3)),r.a.createElement("div",{className:"all-rate"},r.a.createElement("div",{className:"progress-bar-rate"},r.a.createElement("div",{className:"percent-progress-bar",style:{width:"".concat(Ne.percent_rate_3,"%")}}))),r.a.createElement("div",{className:"num-rate"},r.a.createElement("div",{className:"num-review"},Ne.rate_3))),r.a.createElement("div",{className:"row-rate-right"},r.a.createElement("div",{className:"right-star"},re(2)),r.a.createElement("div",{className:"all-rate"},r.a.createElement("div",{className:"progress-bar-rate"},r.a.createElement("div",{className:"percent-progress-bar",style:{width:"".concat(Ne.percent_rate_2,"%")}}))),r.a.createElement("div",{className:"num-rate"},r.a.createElement("div",{className:"num-review"},Ne.rate_2))),r.a.createElement("div",{className:"row-rate-right"},r.a.createElement("div",{className:"right-star"},re(1)),r.a.createElement("div",{className:"all-rate"},r.a.createElement("div",{className:"progress-bar-rate"},r.a.createElement("div",{className:"percent-progress-bar",style:{width:"".concat(Ne.percent_rate_1,"%")}}))),r.a.createElement("div",{className:"num-rate"},r.a.createElement("div",{className:"num-review"},Ne.rate_1))))),r.a.createElement("hr",null),r.a.createElement("div",{className:"review-profile"},r.a.createElement("div",{className:"review-pro-pic"},se(ye)),r.a.createElement("div",{className:"review-pro-rate"},r.a.createElement("div",{className:"review-username"},ye.username),r.a.createElement("div",{className:"review-rate my-rate"},r.a.createElement("div",{className:"star-rating all-users-review"},re(ye.rating))))),r.a.createElement("div",{className:"comment-box"},r.a.createElement("div",{className:"review-text"},ye.comment),ce(ye)),r.a.createElement("hr",null),r.a.createElement("form",{className:"review-form",onSubmit:async e=>{e.preventDefault(),ke(e=>Object(o.a)(Object(o.a)({},e),{},{user_id:parseInt(xe,10),menu_id:Be}));const a=parseInt(Ae.rating,10);if(console.log("has review?",je),je)_e(!0);else{if(a<1||a>5)return void console.error("rate should be in 1 - 5");if(!Be)return void console.error("Cannot submit review: menu_id is missing.");try{await k.a.post("".concat("https://souscook-production.up.railway.app","/api/menu-detail/").concat(Be,"/reviews"),Ae);ke({comment:"",rating:""}),Ue()}catch(t){console.error("Error for post review:",t)}}}},r.a.createElement("div",{className:"review-profile"},r.a.createElement("div",{className:"review-pro-pic"},r.a.createElement("img",{src:Oe.avatar_url?"".concat(Oe.avatar_url):ae.a,className:"my-review-pro",alt:"avatar"})),r.a.createElement("div",{className:"review-pro-rate"},r.a.createElement("div",{className:"review-username"},Oe.username),r.a.createElement("div",{className:"review-rate my-rate"},r.a.createElement("div",{className:"star-rating"},r.a.createElement("input",{type:"radio",name:"rating",value:"5",id:"star5",checked:"5"===Ae.rating,onChange:Fe}),r.a.createElement("label",{for:"star5"}),r.a.createElement("input",{type:"radio",name:"rating",value:"4",id:"star4",checked:"4"===Ae.rating,onChange:Fe}),r.a.createElement("label",{for:"star4"}),r.a.createElement("input",{type:"radio",name:"rating",value:"3",id:"star3",checked:"3"===Ae.rating,onChange:Fe}),r.a.createElement("label",{for:"star3"}),r.a.createElement("input",{type:"radio",name:"rating",value:"2",id:"star2",checked:"2"===Ae.rating,onChange:Fe}),r.a.createElement("label",{for:"star2"}),r.a.createElement("input",{type:"radio",name:"rating",value:"1",id:"star1",checked:"1"===Ae.rating,onChange:Fe}),r.a.createElement("label",{for:"star1"}))))),r.a.createElement("div",{className:"review-message-box"},r.a.createElement("textarea",{name:"comment",placeholder:"Add a comment...",id:"review-message-textarea",value:Ae.comment,onChange:Fe})),r.a.createElement("div",{className:"review-button-box"},r.a.createElement("button",{type:"submit",className:"post-review-button"},"Post"))),Ie&&r.a.createElement("div",{className:"popup-overlay"},r.a.createElement("div",{className:"popup-content"},r.a.createElement("h2",null,"Update Reiview"),r.a.createElement("p",null,"Are you sure you want to update your review?"),r.a.createElement("div",{className:"popup-buttons"},r.a.createElement("button",{className:"cancel-button-review",onClick:()=>_e(!1)},"Cancel"),r.a.createElement("button",{className:"confirm-button-review",onClick:async e=>{e.preventDefault();try{await k.a.put("".concat("https://souscook-production.up.railway.app","/api/reviews"),Ae);_e(!1),ke({comment:"",rating:""}),Ue()}catch(a){console.error("Error for put review:",a)}}},"Update"))))),r.a.createElement("button",{className:"go-community-button",onClick:()=>l("/reviews",{state:{menu_id:Be}})},"See All Reviews"))):r.a.createElement("div",{className:"menu-detail-container"},r.a.createElement("p",null,"Loading menu details..."),r.a.createElement("button",{className:"back-button",onClick:Re},"\u2190 Back"))};t(96);const ie=()=>r.a.createElement("div",{className:"loading-overlay"},r.a.createElement("div",{className:"loading-popup"},r.a.createElement("div",{className:"spinner"}),r.a.createElement("p",null,"Creating your menu, just a moment!")));var oe=()=>{const[e,a]=Object(n.useState)([]),[t,s]=Object(n.useState)([]),[c,l]=Object(n.useState)([]),[o,u]=Object(n.useState)([]),[d,p]=Object(n.useState)(!1),g=Object(i.p)();Object(n.useEffect)(()=>{const e=(()=>{const e=m();if(!e)return[];const a=localStorage.getItem("Preferences_".concat(e));try{return a?JSON.parse(a):[]}catch(t){return console.error("Error parsing menu from localStorage:",t),[]}})();e&&(a(e.cuisines||[]),s(e.dietaryPreferences||[]),l(e.mealOccasions||[]));const t=E();u(t||[])},[]),Object(n.useEffect)(()=>{(e=>{const a=m();a&&localStorage.setItem("Preferences_".concat(a),JSON.stringify(e))})({cuisines:e,dietaryPreferences:t,mealOccasions:c})},[e,t,c]);const v=(e,a,t)=>{a(a=>a.includes(e)?a.filter(a=>a!==e):[...a,e])};return r.a.createElement(r.a.Fragment,null,d&&r.a.createElement(ie,null),r.a.createElement("div",{className:"preferences-container"},r.a.createElement("div",{className:"menu-header-container"},r.a.createElement("button",{className:"back-button",onClick:()=>g("/ingredient-preview")}),r.a.createElement("h1",null,"Preferences")),r.a.createElement("h1",{className:"header"},"Cuisines"),r.a.createElement("div",{className:"preference-list"},["Southeast Asian","American","Italian","Mexican","Indian","Fusion","South American","Middle Eastern","Mediterranean"].map(t=>r.a.createElement("button",{key:t,className:"preference-item ".concat(e.includes(t)?"selected":""),onClick:()=>v(t,a)},t))),r.a.createElement("div",{className:"spliteline"}),r.a.createElement("h1",{className:"header"},"Dietary Preferences ",r.a.createElement("span",{className:"permanent-filter"},"(This filter is permanent)")),r.a.createElement("div",{className:"preference-list"},["Vegetarian","Lactose Intolerance","Pescatarian","Gluten intolerance","No red meat","Keto","Diabetes","Dairy-free","Low carb","High carb","High protein","Nuts Allergies","Healthy"].map(e=>r.a.createElement("button",{key:e,className:"preference-item ".concat(t.includes(e)?"selected":""),onClick:()=>v(e,s)},e))),r.a.createElement("div",{className:"spliteline"}),r.a.createElement("h1",{className:"header"},"Meal Occasions"),r.a.createElement("div",{className:"preference-list"},["Breakfast","Lunch","Dinner","Snack","Side Dish","Party"].map(e=>r.a.createElement("button",{key:e,className:"preference-item ".concat(c.includes(e)?"selected":""),onClick:()=>v(e,l)},e))),r.a.createElement("button",{className:"search-button",onClick:async()=>{const a=o.filter(e=>e&&e.ingredient_name).map(e=>e.ingredient_name);console.log("Ingredient names being sent:",a);try{p(!0);const r=await fetch("".concat("https://souscook-production.up.railway.app/api","/menu-recommendations"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ingredients:a,cuisines:e,dietaryPreferences:t,mealOccasions:c})}),s=await r.json();console.log("Menu recommendations:",s),n=s.recommendations,localStorage.setItem("menus",JSON.stringify(n)),(e=>{const a=localStorage.getItem(e);try{const e=a?JSON.parse(a):[];console.log(e)}catch(t){console.error("Error parsing ".concat(e," from localStorage:"),t)}})("menus"),p(!1),g("/menu-suggestion")}catch(r){console.error("Error getting menu recommendations:",r),p(!1)}var n}},"SEARCH FOR RECIPE")))};t(97);var me=()=>{const[e,a]=Object(n.useState)([]),t=Object(i.p)();Object(n.useEffect)(()=>{const e=(()=>{const e=localStorage.getItem("menus");try{return e?JSON.parse(e):[]}catch(a){return console.error("Error parsing menu recommendations from localStorage:",a),[]}})();console.log("storedRecommendations:",e),e&&e.menus&&Array.isArray(e.menus)?Promise.all(e.menus.map(e=>(async e=>{try{var a;const t=await k.a.get("".concat("https://souscook-production.up.railway.app/api","/menus/by-name/").concat(encodeURIComponent(e.menu_name))).catch(()=>null);if(null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.menu_id)return console.log('Menu "'.concat(e.menu_name,'" already exists with ID: ').concat(t.data.menu_id)),Object(o.a)(Object(o.a)({},e),{},{menu_id:t.data.menu_id});const n={menu_name:e.menu_name,prep_time:e.prep_time||null,cooking_time:e.cooking_time||null,steps:e.steps||[],ingredients_quantity:e.ingredients_quantity||[],ingredients_type:e.ingredients_type||[],nutrition:e.nutrition||[],tips:e.tips||[],image:e.image||null},r=await k.a.post("".concat("https://souscook-production.up.railway.app/api","/menus"),n);return console.log("Save menu response:",r.data),r.data&&r.data.menu&&r.data.menu.menu_id?Object(o.a)(Object(o.a)({},e),{},{menu_id:r.data.menu.menu_id}):e}catch(t){return console.error("Error saving menu to DB:",t),e}})(e))).then(e=>{a(e),console.log("Recommendations with IDs:",e)}).catch(t=>{console.error("Error processing recommendations:",t),a(e.menus)}):(console.error("Recommendations are not in a valid format:",e),a([]))},[]);return r.a.createElement("div",{className:"menu-suggestion-container"},r.a.createElement("div",{className:"menu-header-container"},r.a.createElement("button",{className:"back-button",onClick:()=>{t("/preferences")}}),r.a.createElement("h1",null,"Menu Suggestions")),e.length>0?r.a.createElement("ul",{className:"menu-list"},e.map((e,a)=>r.a.createElement("li",{key:a,className:"menu-item",onClick:()=>(e=>{e.menu_id?t("/menu-detail",{state:{menu:e,menu_id:e.menu_id}}):(console.error("Cannot navigate to details, menu_id is missing.",e),k.a.get("".concat("https://souscook-production.up.railway.app/api","/menus/by-name/").concat(encodeURIComponent(e.menu_name))).then(a=>{const n=a.data;t("/menu-detail",{state:{menu:e,menu_id:n.menu_id}})}).catch(e=>console.error("Fallback to get menu_id from DB failed",e)))})(e)},r.a.createElement("img",{src:e.image||S.a,alt:e.menu_name,className:"menu-image"}),r.a.createElement("div",{className:"menu-details"},r.a.createElement("h2",null,e.menu_name),r.a.createElement("p",null,"Prep time: ",e.prep_time||"N/A"),r.a.createElement("p",null,"Cooking time: ",e.cooking_time||"N/A"))))):r.a.createElement("p",null,"No recommendations available."))},ue=(t(98),t(44)),de=t.n(ue),pe=t(50),ge=t.n(pe),Ee=t(64),ve=t.n(Ee),he=t(45),be=t.n(he),Ne=t(51),fe=t.n(Ne),ye=t(46),we=t.n(ye),Ae=t(65),ke=t.n(Ae),Oe=t(47),Ce=t.n(Oe),je=t(66),Se=t.n(je),Ie=t(67),_e=t.n(Ie),xe=t(30),Be=t.n(xe),Re=t(68),Pe=t.n(Re);var Fe=e=>{let{updatedIngredients:a}=e;Object(i.n)();const[t,s]=Object(n.useState)([]),[c,l]=Object(n.useState)(null),[o,m]=Object(n.useState)(""),[u,d]=Object(n.useState)(!1),p=Object(i.p)(),b={egg:de.a,"dairy products":de.a,milk:de.a,fats:ge.a,oils:ge.a,fruits:ve.a,grains:be.a,nuts:be.a,baking:be.a,herbs:fe.a,spices:fe.a,meat:we.a,sausages:we.a,fish:we.a,pasta:Ce.a,rice:Ce.a,pulses:Ce.a,vegetables:Se.a},N=e=>{const a=new Set;return e.filter(e=>{var t;if(!e||"object"!==typeof e)return!1;const n=null===(t=e.ingredient_name)||void 0===t?void 0:t.trim().toLowerCase();return!(!n||a.has(n))&&(a.add(n),!0)})};Object(n.useEffect)(()=>{const e=[...E(),...v()],a=N(e);s(a)},[]),Object(n.useEffect)(()=>{a&&s(e=>{const t=[...e,...a],n=N(t);return g(n),n})},[a]);const f=e=>{const a=[...t];var n;a[e].ingredient_name=o,s(n=a),g(n),l(null),m("")},y=()=>l(null);return r.a.createElement(r.a.Fragment,null,u?r.a.createElement(oe,{onBack:()=>d(!1)}):r.a.createElement("div",{className:"ingredient-preview-container"},r.a.createElement("div",{className:"menu-header-container"},r.a.createElement("button",{className:"back-button",onClick:()=>p("/search")}),r.a.createElement("h1",null,"Ingredient List")),r.a.createElement("ul",{className:"ingredient-list"},0===t.length?r.a.createElement("li",{className:"no-ingredients"},"No ingredients detected"):t.map((e,a)=>{if(!e||!e.ingredient_name||!e.ingredient_type)return null;const n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const a=e.toLowerCase();for(const t in b)if(a.includes(t))return b[t];return ke.a}(e.ingredient_type);return r.a.createElement("li",{key:"".concat(e.ingredient_name,"-").concat(a),className:"ingredient-items"},r.a.createElement("img",{src:n,alt:"".concat(e.ingredient_type," icon"),className:"ingredient-icon"}),c===a?r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"text",value:o,onChange:e=>m(e.target.value),className:"ingredient-edit-input"}),r.a.createElement("button",{className:"save-btn",onClick:()=>f(a)},"Save"),r.a.createElement("button",{className:"cancel-btn",onClick:y},"Cancel")):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,e.ingredient_name),r.a.createElement("div",{className:"ingredient-actions"},r.a.createElement("button",{className:"edit-btn",onClick:()=>(e=>{l(e),m(t[e].ingredient_name)})(a)},r.a.createElement("img",{src:_e.a,alt:"Edit"})),r.a.createElement("button",{className:"delete-btn",onClick:()=>(e=>{const a=t[e],n=E().filter(e=>e.ingredient_name!==a.ingredient_name);g(n);const r=v().filter(e=>e.ingredient_name!==a.ingredient_name);h(r),s(a=>a.filter((a,t)=>t!==e))})(a)},r.a.createElement("img",{src:Be.a,alt:"Delete"})))))})),r.a.createElement("button",{className:"plus-btn",onClick:()=>p("/search")},r.a.createElement("img",{src:Pe.a,alt:"Add ingredient",style:{width:"32px",height:"32px"}})),r.a.createElement("button",{className:"confirm-btn",onClick:()=>d(!0)},"CONFIRM")))},Ue=(t(99),t(31)),Me=t.n(Ue),De=t(32),Xe=t.n(De),Le=t(69),Te=t.n(Le),Ge=t(12),Ve=t.n(Ge),qe=t(13),Ye=t.n(qe),Ke=t(14),He=t.n(Ke),ze=t(15),Ze=t.n(ze),We=t(33),Je=t.n(We),Qe=t(34),$e=t.n(Qe),ea=t(35),aa=t.n(ea),ta=t(36),na=t.n(ta),ra=t(70),sa=t.n(ra),ca=t(71),la=t.n(ca),ia=t(72),oa=t.n(ia),ma=t(73),ua=t.n(ma),da=t(74),pa=t.n(da),ga=t(75),Ea=t.n(ga);var va=()=>{const e=Object(i.p)(),[a,t]=Object(n.useState)([Ve.a,Ye.a,He.a,Ze.a]),[s,c]=Object(n.useState)("USER"),[l,u]=Object(n.useState)(!1),[p,g]=Object(n.useState)(!1),[E,v]=Object(n.useState)(0),[h,N]=Object(n.useState)([]),[f,y]=Object(n.useState)(!0),[w,A]=Object(n.useState)(0),[O,C]=Object(n.useState)(0),j=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const t=Object(o.a)({},a);t.userId&&(t.userId="****"),t.username&&(t.username="****"),t.email&&(t.email="****"),console.log("Event: ".concat(e),t)};Object(n.useEffect)(()=>{const e=m(),a=d();g(a);(async()=>{try{if(!e)return j("auth_check",{status:"not_authenticated"}),c("USER"),void y(!1);const a=(await k.a.get("".concat("https://souscook-production.up.railway.app/api","/users/").concat(e))).data.user;j("user_data_fetch",{status:"success",hasData:!!a}),a&&a.username&&c(a.username.toUpperCase()+"!");const t=(await k.a.get("".concat("https://souscook-production.up.railway.app/api","/users/").concat(e,"/monthly-meal-stats"))).data,n=t.monthly_stats.map(e=>({month:e.month,value:e.meal_count}));N(n),A(t.current_month.meal_count),C(parseFloat(t.current_month.co2_saved)),y(!1)}catch(r){var a,t,n;j("user_data_fetch",{status:"error",errorType:401===(null===(a=r.response)||void 0===a?void 0:a.status)?"unauthorized":"fetch_failed"}),401!==(null===(t=r.response)||void 0===t?void 0:t.status)&&403!==(null===(n=r.response)||void 0===n?void 0:n.status)||j("guest_access"),y(!1)}})()},[]),Object(n.useEffect)(()=>{const e=()=>{const e=b();v(e.length)};return e(),window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[]);const{minValue:S,maxValue:I}=(()=>{if(0===h.length)return{minValue:0,maxValue:20};const e=h.map(e=>e.value),a=Math.max(...e);if(0===a)return{minValue:0,maxValue:5};let t;return t=a<=5?5:a<=10?10:a<=20?20:a<=50?10*Math.ceil(a/10):20*Math.ceil(a/20),{minValue:0,maxValue:t}})(),_=(x=I)<=5||x<=10?6:x<=20?5:x<=50?6:5;var x;const B=e=>192-e/I*177,R=(e,a)=>1===a?167:35+264*e/(a-1),P=(()=>{const e=[],a=I/(_-1);for(let t=0;t<_;t++)e.push(Math.round(a*t));return e})();return r.a.createElement("div",{className:"homepage-container"},r.a.createElement("img",{src:Me.a,alt:"Header",className:"header-image"}),r.a.createElement("div",{className:"second-container"},r.a.createElement("p",{className:"greet-user"},"HELLO ",r.a.createElement("span",{className:"username"},s)),r.a.createElement("div",{className:"list-icon-container"},r.a.createElement("img",{src:Xe.a,alt:"List",className:"list-icon",onClick:()=>{const a=b();e("/shoppinglist",{state:{missingIngredients:a}})},style:{cursor:"pointer"}}),E>0&&r.a.createElement("span",{className:"list-badge"},E))),r.a.createElement("p",{className:"question-text"},"What's on your mind today chef?"),r.a.createElement("div",{className:"search-box",onClick:()=>e("/search")},r.a.createElement("img",{src:Te.a,alt:"search",className:"search-icon"}),r.a.createElement("p",{className:"search-text"},"Search your ingredients here")),r.a.createElement("div",{className:"most-searched"},r.a.createElement("p",{className:"most-searched-text"},"Most Searched Ingredients"),r.a.createElement("div",{className:"ingredients-scroll"},a.map((e,n)=>r.a.createElement("img",{key:n,src:e,alt:"Ingredient ".concat(n),onClick:()=>(e=>{const n=[...a];switch(e){case 0:n[0]=n[0]===Ve.a?Je.a:Ve.a;break;case 1:n[1]=n[1]===Ye.a?$e.a:Ye.a;break;case 2:n[2]=n[2]===He.a?aa.a:He.a;break;case 3:n[3]=n[3]===Ze.a?na.a:Ze.a}t(n)})(n),style:{cursor:"pointer"}})))),r.a.createElement("div",{className:"food-waste-stat"},r.a.createElement("p",{className:"food-waste-text"},"Food Waste Reduction Stat"),r.a.createElement("div",{className:"chart-box"},r.a.createElement("svg",{className:"chart-svg",viewBox:"0 0 ".concat(314," ").concat(220)},P.map((e,a)=>{const t=B(e);return r.a.createElement("line",{key:"h-".concat(a),x1:35,y1:t,x2:299,y2:t,stroke:"#f0f0f0",strokeWidth:"1"})}),h.map((e,a)=>{const t=R(a,h.length);return r.a.createElement("line",{key:"v-".concat(a),x1:t,y1:15,x2:t,y2:192,stroke:"#f0f0f0",strokeWidth:"1"})}),r.a.createElement("path",{d:(e=>{if(0===e.length)return"";const a=e.map((a,t)=>{const n=R(t,e.length),r=B(a.value);return"".concat(n,",").concat(r)});return"M ".concat(a.join(" L "))})(h),fill:"none",stroke:"#CCDA46",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),h.map((e,a)=>{const t=R(a,h.length),n=B(e.value);return r.a.createElement("circle",{key:a,cx:t,cy:n,r:"4",fill:"#B0BD39",stroke:"#fff",strokeWidth:"2"})}),P.map((e,a)=>{const t=B(e);return r.a.createElement("text",{key:"y-label-".concat(a),x:25,y:t+4,textAnchor:"end",style:{fontSize:"13px",fill:"#6D6C6C",fontFamily:"Quicksand",fontWeight:500}},e)}),h.map((e,a)=>{const t=R(a,h.length);return r.a.createElement("text",{key:a,x:t,y:212,textAnchor:"middle",style:{fontSize:"13px",fill:"#6D6C6C",fontFamily:"Quicksand",fontWeight:500}},e.month)})),r.a.createElement("div",{className:"stat-info"},r.a.createElement("p",{className:"stat-text"},"You made ",r.a.createElement("span",{className:"highlight-orange"},w," ",1===w?"dish":"dishes")," this month"),r.a.createElement("p",{className:"stat-text"},"Around ",r.a.createElement("span",{className:"highlight-orange"},O.toFixed(1)," kg")," of CO2 saved!")))),r.a.createElement("div",{className:"banner-container"},r.a.createElement("div",{className:"banner-row"},r.a.createElement("img",{src:sa.a,alt:"BANNER1",className:"banner-scroll"}),r.a.createElement("img",{src:la.a,alt:"BANNER2",className:"banner-scroll"}),r.a.createElement("img",{src:oa.a,alt:"BANNER3",className:"banner-scroll"}),r.a.createElement("img",{src:ua.a,alt:"BANNER4",className:"banner-scroll"}))),r.a.createElement("div",{className:"random-container"},r.a.createElement("div",{className:"random-box"},r.a.createElement("img",{src:pa.a,alt:"RANDOM",className:"random-menu"}),r.a.createElement("button",{className:"random-btn ".concat(l?"loading":""),style:{cursor:l?"not-allowed":"pointer"},onClick:async()=>{u(!0);try{var a;const t=await k.a.get("".concat("https://souscook-production.up.railway.app/api","/random-menu"));t.data.success&&(null===(a=t.data.menu)||void 0===a?void 0:a.menu_id)&&e("/menu-detail",{state:{menu:t.data.menu,menu_id:t.data.menu.menu_id,isRandomMenu:!0}})}catch(t){console.error("Error:",t),alert("Failed to generate menu. Please try again.")}finally{u(!1)}},disabled:l},l?"GENERATING...":"START RANDOM"))),r.a.createElement("div",{className:"news-container"},r.a.createElement("img",{src:Ea.a,alt:"NEWS",className:"news"})))},ha=(t(100),t(76)),ba=t.n(ha),Na=t(77),fa=t.n(Na),ya=t(78),wa=t.n(ya);var Aa=()=>{const[e,a]=Object(n.useState)(0),[t,s]=Object(n.useState)(!1),[c,l]=Object(n.useState)(0),[o,m]=Object(n.useState)(0),u=Object(n.useRef)(null),d=Object(i.p)(),p=[{id:1,image:ba.a,description:"Sous cook is your little cooking helper, he will suggest whip-up delicious recipes based on your ingredients!",type:"logo"},{id:2,image:fa.a,title:"OUR MISSION",description:'"Provide a proper cooking and food preparation techniques to significantly minimize food waste."',type:"circle"},{id:3,image:wa.a,title:"Join Us Now!",description:'"Cutting down on food waste not only positively impacts the world but also puts money back in your pocket by eliminating unnecessary spending."\n\nLet\u2019s be a part of eco-conscious together !',type:"banner"}],g=a=>{s(!0);const t="mousedown"===a.type?a.clientX:a.touches[0].clientX;l(t),m(e*u.current.offsetWidth)},E=n=>{if(!t)return;n.preventDefault();const r="mousemove"===n.type?n.clientX:n.touches[0].clientX,s=o+2*(c-r),l=u.current.offsetWidth,i=Math.round(s/l);i!==e&&i>=0&&i<p.length&&a(i)},v=()=>{s(!1)};return Object(n.useEffect)(()=>{const e=e=>{"ArrowRight"===e.key?a(e=>(e+1)%p.length):"ArrowLeft"===e.key&&a(e=>(e-1+p.length)%p.length)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[e]),r.a.createElement("div",{className:"onboarding-container"},r.a.createElement("div",{ref:u,className:"slides-wrapper",style:{transform:"translateX(-".concat(100*e,"%)")},onMouseDown:g,onMouseMove:E,onMouseUp:v,onMouseLeave:v,onTouchStart:g,onTouchMove:E,onTouchEnd:v},p.map(t=>r.a.createElement("div",{key:t.id,className:"slide ".concat("banner"===t.type?"slide-banner":"")},r.a.createElement("div",{className:"slide-content"},"circle"===t.type&&r.a.createElement("div",{className:"image-circle"},r.a.createElement("img",{src:t.image,alt:t.title||"slide image",className:"circle-img"})),"logo"===t.type&&r.a.createElement("div",{className:"image-logo"},r.a.createElement("img",{src:t.image,alt:"SousCook Logo",className:"logo-img"})),"banner"===t.type&&r.a.createElement("div",{className:"image-banner"},r.a.createElement("img",{src:t.image,alt:t.title||"slide image",className:"banner-img"})),r.a.createElement("div",{className:"text-content"},t.title&&r.a.createElement("h1",{className:"slide-title"},t.title),r.a.createElement("p",{className:"slide-description"},t.description))),r.a.createElement("div",{className:"slide-footer"},r.a.createElement("div",{className:"dot-indicators"},p.map((t,n)=>r.a.createElement("button",{key:n,onClick:()=>{a(n)},className:"dot ".concat(n===e?"dot-active":"")}))),r.a.createElement("button",{className:"get-started-btn",onClick:()=>d("/login")},"GET STARTED"))))))},ka=(t(101),t(27),t(37)),Oa=t.n(ka),Ca=t(38),ja=t.n(Ca),Sa=t(39),Ia=t.n(Sa),_a=t(40),xa=t.n(_a),Ba=t(41),Ra=t.n(Ba);var Pa=()=>{const e=Object(i.p)(),a=Object(i.n)().pathname.replace("/","")||"home",t=a=>{e("/".concat(a))};return r.a.createElement("div",{className:"navbar"},r.a.createElement("a",{className:"home nav-item ".concat("home"===a?"selected":""),onClick:()=>t("home")},r.a.createElement("img",{src:Oa.a,alt:"home"})),r.a.createElement("a",{className:"heart nav-item ".concat("favorites"===a?"selected":""),onClick:()=>t("favorites")},r.a.createElement("img",{src:ja.a,alt:"favorites"})),r.a.createElement("a",{className:"camera nav-item ".concat("camera"===a?"selected":""),onClick:()=>t("camera")},r.a.createElement("img",{src:Ia.a,alt:"camera"})),r.a.createElement("a",{className:"history nav-item ".concat("history"===a?"selected":""),onClick:()=>t("history")},r.a.createElement("img",{src:xa.a,alt:"history"})),r.a.createElement("a",{className:"account nav-item ".concat("account"===a?"selected":""),onClick:()=>t("account")},r.a.createElement("img",{src:Ra.a,alt:"account"})))},Fa=t(42);t(55),t(56);const Ua=()=>r.a.createElement("div",{className:"loading-overlay"},r.a.createElement("div",{className:"loading-popup"},r.a.createElement("div",{className:"spinner"}),r.a.createElement("p",null,"Processing your image, please wait..."))),Ma=()=>{const[e,a]=Object(n.useState)(!0);return e?r.a.createElement("div",{className:"notfound-overlay"},r.a.createElement("div",{className:"notfound-popup"},r.a.createElement(Fa.a,{className:"error-icon"}),r.a.createElement("p",null,"Error Please try agian"),r.a.createElement("button",{className:"close-button",onClick:()=>{a(!1)}},"Close"))):null};var Da=()=>{const e=Object(n.useRef)(null),[a,t]=Object(n.useState)(null),[s,c]=Object(n.useState)(!1),[l,o]=Object(n.useState)(!1),[m,u]=Object(n.useState)(!1),[d,p]=Object(n.useState)("environment"),E=Object(i.p)(),v=Object(n.useCallback)(()=>{if(e.current){const a=e.current.getScreenshot();u(!1),t(a)}},[e]);return r.a.createElement("div",null,s&&r.a.createElement(Ua,null),l&&r.a.createElement(Ma,null),r.a.createElement("div",{className:"camera-container"},a?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"camera-header"},r.a.createElement("span",{className:"header-title"},"Identify the Ingredient"),r.a.createElement("img",{src:D.a,className:"close-button",alt:"Close",onClick:()=>E("/home")})),r.a.createElement("img",{src:a,alt:"Captured",className:"captured-image"}),r.a.createElement("div",{className:"camera-buttom-preview"},r.a.createElement("button",{onClick:()=>t(null),className:"retake-button styled-button"},r.a.createElement("img",{src:z.a,alt:"Retake",className:"button-image"})),r.a.createElement("button",{onClick:()=>(async e=>{try{c(!0);const a=await fetch("".concat("https://souscook-production.up.railway.app/api","/upload"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({image:e})});if(!a.ok)throw new Error("Network response was not ok");const n=await a.json();if(console.log("Response from backend:",n),n&&n.ingredients&&n.ingredients.length>0){const e=n.ingredients;console.log("detectedIngredients:",JSON.stringify(e,null,2)),e.length>0?(g(e),E("/ingredient-preview")):o(!0)}else console.error("No ingredients detected in the backend response"),o(!0),t(null);c(!1)}catch(a){console.error("Error sending image to backend:",a),c(!1)}})(a),className:"send-button styled-button"},r.a.createElement("img",{src:W.a,alt:"Next",className:"button-image"})))):r.a.createElement(r.a.Fragment,null,r.a.createElement(U.a,{audio:!1,ref:e,screenshotFormat:"image/jpeg",className:"webcam-view",videoConstraints:{facingMode:d}}),r.a.createElement("div",{className:"camera-header"},r.a.createElement("span",{className:"header-title"},"Identify the Ingredient"),r.a.createElement("img",{src:D.a,className:"close-button",alt:"Close",onClick:()=>E("/home")})),r.a.createElement("div",{className:"camera-buttom"},r.a.createElement("div",{className:"upload-container"},r.a.createElement("img",{src:L.a,alt:"Upload",onClick:()=>document.getElementById("fileInput").click(),className:"upload-image"})),r.a.createElement("button",{onClick:v,className:"camera-button",onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1)},r.a.createElement("img",{src:m?K.a:q.a,alt:"Camera Button",className:"camera-button-img"})),r.a.createElement("div",{className:"swap-container"},r.a.createElement("img",{src:G.a,alt:"Swap Camera",className:"swap-camera",onClick:()=>{p(e=>"environment"===e?"user":"environment")}})),r.a.createElement("input",{type:"file",accept:"image/*",onChange:e=>{const a=e.target.files[0];if(a){const e=new FileReader;e.onloadend=()=>{t(e.result)},e.readAsDataURL(a)}},className:"upload-button",id:"fileInput",style:{display:"none"}})))))},Xa=(t(102),t(24)),La=t.n(Xa);var Ta=()=>{const e=Object(i.p)(),a=Object(n.useRef)(null),[t,s]=(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BACKEND_URL:"https://souscook-production.up.railway.app/api",REACT_APP_ENV:"production",REACT_APP_GOOGLE_CLIENT_ID:"214837593363-148416f6vfcgudims78fce6l9h9rup2n.apps.googleusercontent.com",REACT_APP_BASE_URL:"https://souscook-production.up.railway.app"}).REACT_APP_API_URL,Object(n.useState)({username:"",password:""})),[c,l]=Object(n.useState)(!1),[m,d]=Object(n.useState)({}),[p,g]=Object(n.useState)({type:"",message:""}),[E,v]=Object(n.useState)(!1),[h,b]=Object(n.useState)(!1),[N,f]=Object(n.useState)(!1);Object(n.useEffect)(()=>{const e=()=>{window.google&&window.google.accounts&&(window.google.accounts.id.initialize({client_id:"214837593363-148416f6vfcgudims78fce6l9h9rup2n.apps.googleusercontent.com",callback:y,auto_select:!1,cancel_on_tap_outside:!0}),window.google.accounts.id.renderButton(document.getElementById("google-signin-button"),{theme:"outline",size:"large",width:"300",text:"signin_with",shape:"rectangular"}),f(!0))};if(window.google)e();else{const a=document.createElement("script");a.src="https://accounts.google.com/gsi/client",a.async=!0,a.defer=!0,a.onload=e,document.head.appendChild(a)}return()=>{a.current&&clearTimeout(a.current)}},[]);const y=async t=>{b(!0),g({type:"",message:""});try{const n=w(t.credential),r=await k.a.post("".concat("https://souscook-production.up.railway.app","/google-auth"),{credential:t.credential,email:n.email,username:n.name,avatar:n.picture,google_id:n.sub},{timeout:1e4,withCredentials:!0});r.data.user_id&&(u(r.data.user_id),console.log("Google authentication successful"));const s=r.data.is_new_user;g({type:"success",message:s?"Account created successfully":"Login successfully"}),a.current=setTimeout(()=>{e("/home")},1e3)}catch(s){var n,r;let e="Google sign-in failed. Please try again.";(null===(n=s.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)?e=s.response.data.message:s.request&&(e="Cannot connect to server. Please check your connection"),g({type:"error",message:e})}finally{b(!1)}},w=e=>{try{const a=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),t=decodeURIComponent(atob(a).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(t)}catch(a){return{}}},A=e=>{const{name:a,value:t}=e.target;s(e=>Object(o.a)(Object(o.a)({},e),{},{[a]:t})),m[a]&&d(e=>Object(o.a)(Object(o.a)({},e),{},{[a]:""})),p.message&&g({type:"",message:""})},O=E||h;return r.a.createElement("div",{className:"page-container"},r.a.createElement("img",{src:$.a,alt:"Sous Cook Logo",className:"logo-image"}),r.a.createElement("img",{src:La.a,alt:"Text Logo",className:"textlogo-image"}),r.a.createElement("div",{className:"login-container"},r.a.createElement("p",{className:"login-text"},"Sign In"),r.a.createElement("form",{className:"login-form",onSubmit:async n=>{n.preventDefault();const r=(()=>{const e={};return["username","password"].forEach(a=>{const n=((e,a)=>{switch(e){case"username":return a.trim()?a.length<3?"Username must be at least 3 characters":/^[a-zA-Z0-9_]+$/.test(a)?"":"Username can only contain letters, numbers, and underscores":"Username is required";case"password":return a?a.length<4?"Password must be at least 4 characters":"":"Password is required";default:return""}})(a,t[a]);n&&(e[a]=n)}),e})();if(Object.keys(r).length>0)return d(r),void g({type:"error",message:"Please fix the errors above"});v(!0),g({type:"",message:""}),console.log("Backend URL:","https://souscook-production.up.railway.app");try{const n=await k.a.post("".concat("https://souscook-production.up.railway.app","/login"),{username:t.username,password:t.password},{timeout:1e4,withCredentials:!0});n.data.user_id&&(u(n.data.user_id),console.log("Login successful")),g({type:"success",message:n.data.message||"Login successful"}),d({}),a.current=setTimeout(()=>{e("/home")},1e3)}catch(c){let e="An error occured. Please try again.";var s;if(c.response)401===c.response.status?e="Invalid username or password":429===c.response.status?e="Too many login attempts. Please try again later":(null===(s=c.response.data)||void 0===s?void 0:s.message)&&(e=c.response.data.message);else c.request?e="Cannot connect to server. Please check your connection":"ECONNABORTED"===c.code&&(e="Request timeout. Please try again");g({type:"error",message:e})}finally{v(!1)}},noValidate:!0},r.a.createElement("div",{className:"form-field"},r.a.createElement("input",{type:"text",name:"username",placeholder:"Username",className:"input ".concat(m.username?"input-error":""),value:t.username,onChange:A,disabled:O,"aria-label":"Username","aria-invalid":!!m.username,"aria-describedby":m.username?"username-error":void 0,autoComplete:"username"}),m.username&&r.a.createElement("p",{id:"username-error",className:"field-error",role:"alert"},m.username)),r.a.createElement("div",{className:"form-field"},r.a.createElement("input",{type:c?"text":"password",name:"password",placeholder:"Password",className:"input ".concat(m.password?"input-error":""),value:t.password,onChange:A,disabled:O,"aria-label":"Password","aria-invalid":!!m.password,"aria-describedby":m.password?"password-error":void 0,autoComplete:"current-password"}),t.password&&r.a.createElement("button",{type:"button",onClick:()=>l(e=>!e),className:"show-password-button",tabIndex:-1,"aria-label":c?"Hide password":"Show password",disabled:O},c?"Hide":"Show"),m.password&&r.a.createElement("p",{id:"password-error",className:"field-error",role:"alert"},m.password)),r.a.createElement("div",{className:"form-options"},r.a.createElement("button",{type:"button",className:"forgot-password-link",onClick:()=>{e("/reset-password")},disabled:O},"Forgot Password?")),r.a.createElement("button",{type:"submit",className:"submit-button",disabled:O},E?"SIGNING IN...":"SIGN IN")),p.message&&r.a.createElement("div",{className:"alert alert-".concat(p.type),role:"alert","aria-live":"polite"},p.message),r.a.createElement("div",{className:"divider-login"},r.a.createElement("div",{className:"divider-line"}),r.a.createElement("span",{className:"divider-text"},"Or continue with")),r.a.createElement("div",{className:"google-signin-container"},r.a.createElement("div",{id:"google-signin-button"}),h&&r.a.createElement("div",{className:"google-loading"},"Signing in with Google...")),r.a.createElement("div",{className:"signup-link"},r.a.createElement("span",{className:"signup-text-small"},"Don't have an account? "),r.a.createElement("button",{type:"button",className:"signup-link-button",onClick:()=>{e("/signup")},disabled:O},"Sign Up"))),r.a.createElement("p",{className:"guest-text"},"Or you want to take a look first?"),r.a.createElement("button",{className:"guest-button",onClick:()=>{e("/home")},disabled:O},"CONTINUE AS GUEST"))};t(57);var Ga=()=>{const[e,a]=Object(n.useState)({email:""}),[t,s]=Object(n.useState)({}),[c,m]=Object(n.useState)(!1),[u,d]=Object(n.useState)({}),[p,g]=Object(n.useState)(""),E=Object(i.p)(),v=(e,a)=>"email"===e?a.trim()?/\S+@\S+\.\S+/.test(a)?"":"Please enter a valid email address":"Email is required":"";return r.a.createElement("div",{className:"reset-container"},r.a.createElement("button",{className:"back-arrow",onClick:()=>E("/login"),"aria-label":"Go back to login"},"\u2039"),r.a.createElement("div",{className:"logo-header"},r.a.createElement("div",{className:"logo-circle"},r.a.createElement("img",{src:$.a,alt:"Company Logo",className:"Logo"}))),r.a.createElement("div",{className:"reset-card"},r.a.createElement("div",{className:"reset-header"},r.a.createElement("h1",{className:"reset-title"},"RESET YOUR PASSWORD"),r.a.createElement("p",{className:"reset-subtitle"},"Don't worry! It happens. Please enter your email, You will soon receive a Password Reset link.")),r.a.createElement("form",{className:"reset",onSubmit:async t=>{t.preventDefault();const n=(()=>{const a={};return Object.keys(e).forEach(t=>{const n=v(t,e[t]);n&&(a[t]=n)}),a})();if(Object.keys(n).length>0)return s(n),void d({email:!0});m(!0),s({}),g("");try{var r;const t=await k.a.post("/api/auth/reset-password",{email:e.email});g((null===(r=t.data)||void 0===r?void 0:r.message)||"Password reset link sent to your email."),a({email:""}),d({})}catch(i){var c,l;s({submit:(null===(c=i.response)||void 0===c||null===(l=c.data)||void 0===l?void 0:l.message)||"An error occurred. Please try again."})}finally{m(!1)}}},r.a.createElement("div",{className:"input-wrapper"},r.a.createElement("input",{id:"email",name:"email",type:"email",value:e.email,onChange:e=>{const{name:n,value:r}=e.target;if(a(e=>Object(o.a)(Object(o.a)({},e),{},{[n]:r})),t[n]&&s(e=>Object(o.a)(Object(o.a)({},e),{},{[n]:""})),u[n]){const e=v(n,r);s(a=>Object(o.a)(Object(o.a)({},a),{},{[n]:e}))}},onBlur:e=>{const{name:a,value:t}=e.target;d(e=>Object(o.a)(Object(o.a)({},e),{},{[a]:!0}));const n=v(a,t);s(e=>Object(o.a)(Object(o.a)({},e),{},{[a]:n}))},placeholder:"Email",className:(h="email",t[h]?"".concat("login-input"," login-input-error"):"login-input"),"aria-describedby":t.email?"email-error":void 0,"aria-invalid":t.email?"true":"false",autoComplete:"email",disabled:c}),t.email&&r.a.createElement("div",{id:"email-error",className:"login-error",role:"alert"},t.email)),p&&r.a.createElement("div",{className:"login-success",role:"alert"},p),t.submit&&r.a.createElement("div",{className:"login-error",role:"alert"},t.submit),r.a.createElement("button",{type:"submit",className:"send-reset-button",disabled:!e.email||!!t.email||c},c?"Sending...":"Send Reset Link"),r.a.createElement("div",{className:"reset-link"},r.a.createElement(l.b,{to:"/login",className:"login-link-text"},"Back to Sign In")))));var h};t(103);var Va=()=>{const e=Object(i.p)(),a=Object(n.useRef)(null),[t,s]=Object(n.useState)({username:"",email:"",password:""}),[c,l]=Object(n.useState)(!1),[m,u]=Object(n.useState)({}),[d,p]=Object(n.useState)({type:"",message:""}),[g,E]=Object(n.useState)(!1);Object(n.useEffect)(()=>()=>{a.current&&clearTimeout(a.current)},[]);const v=e=>{const{name:a,value:t}=e.target;s(e=>Object(o.a)(Object(o.a)({},e),{},{[a]:t})),m[a]&&u(e=>Object(o.a)(Object(o.a)({},e),{},{[a]:""})),d.message&&p({type:"",message:""})};return r.a.createElement("div",{className:"page-container"},r.a.createElement("img",{src:$.a,alt:"Sous Cook Logo",className:"logo-image"}),r.a.createElement("img",{src:La.a,alt:"Text Logo",className:"textlogo-image"}),r.a.createElement("div",{className:"signup-container"},r.a.createElement("p",{className:"signup-text"},"Sign Up"),r.a.createElement("form",{className:"signup-form",onSubmit:async n=>{n.preventDefault();const r=(()=>{const e={};return Object.keys(t).forEach(a=>{const n=((e,a)=>{switch(e){case"username":return a.trim()?a.length<3?"Username must be at least 3 characters":a.length>20?"Username must not exceed 20 characters":/^[a-zA-Z0-9_]+$/.test(a)?"":"Username can only contain letters, numbers, and underscores":"Username is required";case"email":if(!a.trim())return"Email is required";return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)?"":"Please enter a valid email address";case"password":return a?a.length<8?"Password must be at least 8 characters":/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(a)?"":"Password must contain uppercase, lowercase, and number":"Password is required";default:return""}})(a,t[a]);n&&(e[a]=n)}),e})();if(Object.keys(r).length>0)return u(r),void p({type:"error",message:"Please fix the error above"});E(!0),p({type:"",message:""});try{const n=await k.a.post("".concat("https://souscook-production.up.railway.app","/signup"),t);p({type:"success",message:n.data.message||"Account created successfully."}),u({}),a.current=setTimeout(()=>{e("/login")},1500)}catch(l){var s,c;let e="An error occured. Please try again.";(null===(s=l.response)||void 0===s||null===(c=s.data)||void 0===c?void 0:c.message)?e=l.response.data.message:l.request&&(e="Cannot connect to server. Please check your connection."),p({type:"error",message:e})}finally{E(!1)}},noValidate:!0},r.a.createElement("div",{className:"form-field"},r.a.createElement("input",{type:"text",name:"username",placeholder:"Username",className:"input ".concat(m.username?"input-error":""),value:t.username,onChange:v,disabled:g,"aria-label":"Username","arai-invalid":!!m.username,"aria-describedby":m.username?"username-error":void 0}),m.username&&r.a.createElement("p",{id:"username-error",className:"field-error",role:"alert"},m.username)),r.a.createElement("div",{className:"form-field"},r.a.createElement("input",{type:"email",name:"email",placeholder:"Email",className:"input ".concat(m.email?"input-error":""),value:t.email,onChange:v,disabled:g,"aria-label":"Email","arai-invalid":!!m.email,"aria-describedby":m.email?"email-error":void 0}),m.email&&r.a.createElement("p",{id:"email-error",className:"field-error",role:"alert"},m.email)),r.a.createElement("div",{className:"form-field"},r.a.createElement("input",{type:c?"text":"password",name:"password",placeholder:"Password",className:"input ".concat(m.password?"input-error":""),value:t.password,onChange:v,disabled:g,"aria-label":"Password","arai-invalid":!!m.password,"aria-describedby":m.password?"password-error":void 0}),t.password&&r.a.createElement("button",{type:"button",onClick:()=>l(e=>!e),className:"show-password-button",tabIndex:-1},c?"Hide":"Show"),m.password&&r.a.createElement("p",{id:"password-error",className:"field-error",role:"alert"},m.password)),r.a.createElement("button",{type:"submit",className:"summit-button",disabled:g},g?"CREATING ACCOUNT...":"CREATE AN ACOUNT")),d.message&&r.a.createElement("div",{className:"alert alert-".concat(d.type),role:"alert","aria-live":"polite"},d.message)),r.a.createElement("p",{className:"guest-text"},"Or you want to take a look first?"),r.a.createElement("button",{className:"guest-button",onClick:()=>{e("/home")},disabled:g},"CONTINUE AS GUEST"))},qa=(t(104),t(79)),Ya=t.n(qa);var Ka=()=>{const e=Object(i.p)(),[a,t]=Object(n.useState)({username:"",email:"",avatar:"",avatar_url:"",phone_number:"",birth_date:"",country:""}),[s,c]=Object(n.useState)(ae.a),l=m(),u=parseInt(l,10),[d,g]=Object(n.useState)({total_completed:null,most_cooked:null}),E=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const t=Object(o.a)({},a);t.userId&&(t.userId="****"),t.email&&(t.email="****@****.***"),t.username&&(t.username="****"),t.phone_number&&(t.phone_number="****"),console.log("UserData - ".concat(e,":"),t)};Object(n.useEffect)(()=>{if(!u||isNaN(u))return E("auth_check_failed",{valid:!1}),void e("/login");(async()=>{try{const e=(await k.a.get("".concat("https://souscook-production.up.railway.app/api","/users/").concat(u))).data.user;E("data_fetch_success",{hasAvatar:!!e.avatar_url,hasBirthDate:!!e.birth_date,hasPhoneNumber:!!e.phone_number,hasCountry:!!e.country}),e.birth_date&&(e.birth_date=e.birth_date.split("T")[0]),t(e),e.avatar_url?c("".concat(e.avatar_url,"?t=").concat(Date.now())):c(ae.a)}catch(a){var e;E("data_fetch_error",{status:null===(e=a.response)||void 0===e?void 0:e.status,error:a.message}),c(ae.a)}})()},[u,e,l]),Object(n.useEffect)(()=>{if(!u||isNaN(u))return;(async()=>{try{const e=await k.a.get("".concat("https://souscook-production.up.railway.app/api","/users/").concat(u,"/meal-stats"));g(e.data),console.log("Meal stats:",e.data)}catch(e){console.error("Error fetching meal stats:",e)}})()},[u]);return r.a.createElement("div",null,r.a.createElement("div",{className:"profile-container"},r.a.createElement("div",{className:"setting-container"},r.a.createElement("img",{src:Ya.a,alt:"setting",onClick:()=>{e("/setting")},style:{cursor:"pointer"}})),r.a.createElement("div",{className:"profile-pic"},r.a.createElement("div",{className:"border-box"}),r.a.createElement("div",{className:"pic-con"},r.a.createElement("img",{src:s,id:"pic-pro",alt:"avatar",onError:()=>{E("avatar_load_error"),c(ae.a)}}),r.a.createElement("div",{id:"pic-border"}),r.a.createElement("div",{className:"nameplace"},a.username)))),r.a.createElement("div",{className:"userData-container"},r.a.createElement("div",{className:"data-box-top"},r.a.createElement("div",{className:"title"},"Email"),r.a.createElement("div",{className:"data"},a.email),r.a.createElement("div",{className:"title"},"Phone number"),r.a.createElement("div",{className:"data"},a.phone_number||"-"),r.a.createElement("div",{className:"title"},"Date of Birth"),r.a.createElement("div",{className:"data"},(e=>{if(!e)return"-";const a=new Date(e),t=String(a.getDate()).padStart(2,"0"),n=String(a.getMonth()+1).padStart(2,"0"),r=a.getFullYear();return"".concat(t,"/").concat(n,"/").concat(r)})(a.birth_date)),r.a.createElement("div",{className:"title"},"Country"),r.a.createElement("div",{className:"data"},a.country||"-")),r.a.createElement("div",{className:"separator"}),r.a.createElement("div",{className:"data-box-bottom"},r.a.createElement("div",{className:"title"},"Meal Complete"),r.a.createElement("div",{className:"data"},null!==d.total_completed&&d.total_completed>0?d.total_completed:"-"),r.a.createElement("div",{className:"title"},"Frequently Cooked"),r.a.createElement("div",{className:"data"},d.most_cooked?"".concat(d.most_cooked.menu_name," (").concat(d.most_cooked.cook_count,")"):"-")),r.a.createElement("div",{className:"logout-place"},r.a.createElement("button",{className:"logout-button",onClick:()=>{p(),e("/login")}},"LOG OUT"))))};t(105);var Ha=()=>{const[e,a]=Object(n.useState)("favorites"),[t,s]=Object(n.useState)([]),c=Object(i.p)();Object(n.useEffect)(()=>{(async()=>{const e=localStorage.getItem("user_id");if(e)try{const a=(await k.a.get("".concat("https://souscook-production.up.railway.app/api","/favorites/").concat(e))).data.map(e=>({id:e.menu_id,title:e.menu_name,prepTime:e.prep_time,cookingTime:e.cooking_time,image:e.image||S.a,alt:e.menu_name}));s(a)}catch(a){console.error("Error fetching favorites:",a)}})()},[]);return r.a.createElement("div",{className:"favorite-menu-container"},r.a.createElement("div",{className:"header"},r.a.createElement("h1",{className:"title-meal"},"Liked Meals")),r.a.createElement("div",{className:"meal-list"},0===t.length?r.a.createElement("div",{className:"empty-state"},r.a.createElement("p",null,"No liked meals yet")):t.map((e,a)=>r.a.createElement("div",{key:e.id},r.a.createElement("div",{className:"meal-card"},r.a.createElement("div",{className:"meal-content",onClick:()=>c("/menu-detail",{state:{menu_id:e.id}})},r.a.createElement("div",{className:"meal-image"},r.a.createElement("img",{src:e.image,alt:e.alt})),r.a.createElement("div",{className:"meal-info"},r.a.createElement("h3",{className:"meal-title"},e.title),r.a.createElement("div",{className:"meal-times"},r.a.createElement("p",null,"Prep time: ",e.prepTime),r.a.createElement("p",null,"Cooking time: ",e.cookingTime)))),r.a.createElement("button",{className:"favorite-heart",onClick:()=>(async e=>{const a=localStorage.getItem("user_id");if(a)try{await k.a.delete("".concat("https://souscook-production.up.railway.app/api","/favorites"),{data:{user_id:a,menu_id:e}}),s(a=>a.filter(a=>a.id!==e))}catch(t){console.error("Error removing favorite:",t)}})(e.id)},r.a.createElement("i",{className:"fas fa-heart heart-fav"}))),a<t.length-1&&r.a.createElement("div",{className:"meal-separator"})))))},za=(t(106),t(25)),Za=t.n(za),Wa=t(80),Ja=t.n(Wa);var Qa=()=>{const e=Object(i.p)(),a=Object(i.n)(),[t,s]=Object(n.useState)([Ve.a,Ye.a,He.a,Ze.a]),[c,l]=Object(n.useState)(""),[o,m]=Object(n.useState)([]),[u,d]=Object(n.useState)([]),[p,h]=Object(n.useState)(!1),b=()=>{const e=E(),a=v();d((e=>{const a=new Set;return e.filter(e=>{var t;if(!e||"object"!==typeof e)return!1;const n=null===(t=e.ingredient_name)||void 0===t?void 0:t.trim().toLowerCase();return!(!n||a.has(n))&&(a.add(n),!0)})})([...e,...a]))};Object(n.useEffect)(()=>{b()},[a.key]);return r.a.createElement("div",{className:"search-container"},r.a.createElement("div",{className:"back-home"},r.a.createElement("button",{className:"back-button",onClick:()=>e("/home")}),r.a.createElement("h1",null,"Searching"),r.a.createElement("button",{className:"list-icon-btn",onClick:()=>{b();const a=E(),t=v(),n=[...o,...a,...t];e("/ingredient-preview",{state:{currentIngredients:n,fromSearchBar:!0}})}},r.a.createElement("img",{src:Xe.a,alt:"Ingredient List"}),u.length>0&&r.a.createElement("span",{className:"ingredient-count-badge"},u.length))),r.a.createElement("div",{className:"logo-section"},r.a.createElement("img",{src:$.a,alt:"Logo Icon",className:"main-logo"}),r.a.createElement("img",{src:La.a,alt:"Text Logo",className:"text-logo"})),r.a.createElement("form",{className:"search-bar",onSubmit:e=>{if(e.preventDefault(),c.trim()){const e={ingredient_name:c.trim(),ingredient_type:"Other",source:"manual"};m([...o,e]),l("");const a=E();g([...a,e]),b(),h(!0),setTimeout(()=>{h(!1)},2e3)}}},r.a.createElement("input",{type:"text",className:"search-input",placeholder:"Search for ingredients...",value:c,onChange:e=>l(e.target.value)}),r.a.createElement("button",{type:"button",className:"camera-icon-btn",onClick:()=>{e("/camera-search")}},r.a.createElement("img",{src:Ja.a,alt:"camera",className:"camera-icon"})),r.a.createElement("button",{type:"submit",className:"search-btn",style:{display:"none"}})),r.a.createElement("div",{className:"ingredients-container"},r.a.createElement("p",{className:"ingredients-text"},"Recommended ingredients"),r.a.createElement("div",{className:"ingredients-scroll"},t.map((e,a)=>r.a.createElement("img",{key:a,src:e,alt:"Ingredient ".concat(a),onClick:()=>(e=>{const a=[...t],n=["Bread","Tomato","Celery","Pork"][e],r=["Grains, nuts, and baking products","Vegetables","Vegetables","Meat, sausages and fish"][e];if(o.some(e=>e.ingredient_name===n)){const t=o.filter(e=>e.ingredient_name!==n);m(t);const r=E().filter(e=>e.ingredient_name!==n);switch(g(r),e){case 0:a[0]=Ve.a;break;case 1:a[1]=Ye.a;break;case 2:a[2]=He.a;break;case 3:a[3]=Ze.a}}else{const t={ingredient_name:n,ingredient_type:r,source:"manual"},s=[...o,t];m(s);const c=E();switch(g([...c,t]),e){case 0:a[0]=Je.a;break;case 1:a[1]=$e.a;break;case 2:a[2]=aa.a;break;case 3:a[3]=na.a}}s(a),b()})(a),style:{cursor:"pointer"}})))),r.a.createElement("div",{className:"divider"}),r.a.createElement("div",{className:"search-recipe-row"},r.a.createElement("div",{className:"search-recipe-button",onClick:()=>{const a=E(),t=v(),n=[...a,...o,...t];g(n),e("/ingredient-preview")}},r.a.createElement("p",{className:"search-recipe-text"},"SEARCH FOR RECIPE"))),p&&r.a.createElement("div",{className:"ingredient-added-popup"},r.a.createElement("p",null,"Ingredient added.")))};t(107);const $a=e=>{const a=new Date,t=new Date(e);let n=Math.floor((a-t)/1e3);n<0&&(n=0);let r=n/31536e3;return r>1?Math.floor(r)+" years ago":(r=n/2592e3,r>1?Math.floor(r)+" months ago":(r=n/86400,r>1?Math.floor(r)+" days ago":(r=n/3600,r>1?Math.floor(r)+" hours ago":(r=n/60,r>1?Math.floor(r)+" minutes ago":Math.floor(n)+" seconds ago"))))};var et=()=>{const[e,a]=Object(n.useState)("history"),[t,s]=Object(n.useState)([]),c=Object(i.p)();Object(n.useEffect)(()=>{(async()=>{const e=m();if(e)try{const a=(await k.a.get("".concat("https://souscook-production.up.railway.app/api","/favorites/").concat(e))).data.map(e=>e.menu_id),t=(await k.a.get("".concat("https://souscook-production.up.railway.app/api","/history/").concat(e))).data.map(e=>({id:e.history_id,menuId:e.menu_id,title:e.menu_name,prepTime:e.prep_time,cookingTime:e.cooking_time,image:e.image,alt:e.menu_name,createdAt:new Date(e.created_at),isLiked:a.includes(e.menu_id)})).sort((e,a)=>a.createdAt-e.createdAt).map(e=>Object(o.a)(Object(o.a)({},e),{},{timeAgo:$a(e.createdAt)}));s(t)}catch(a){console.error("Failed to fetch history:",a)}})()},[]);return r.a.createElement("div",{className:"history-menu-container"},r.a.createElement("div",{className:"header"},r.a.createElement("h1",{className:"title-meal"},"History")),r.a.createElement("div",{className:"meal-lists"},0===t.length?r.a.createElement("div",{className:"no-history-message"},r.a.createElement("p",null,"No history found. Start exploring some menus!")):t.map((e,a)=>r.a.createElement("div",{key:e.id},r.a.createElement("div",{className:"meal-cards"},r.a.createElement("div",{onClick:()=>{c("/menu-detail",{state:{menu_id:e.menuId}})}},r.a.createElement("div",{className:"meal-content"},r.a.createElement("div",{className:"meal-image"},r.a.createElement("img",{src:e.image,alt:e.alt})),r.a.createElement("div",{className:"meal-info"},r.a.createElement("h3",null,e.title),r.a.createElement("p",null,"Prep time: ",e.prepTime),r.a.createElement("p",null,"Cooking time: ",e.cookingTime)))),r.a.createElement("div",{className:"card-right-section"},r.a.createElement("button",{className:"liker-button",onClick:()=>(async e=>{const a=localStorage.getItem("user_id");if(a)try{e.isLiked?await k.a.delete("".concat("https://souscook-production.up.railway.app/api","/favorites"),{data:{user_id:a,menu_id:e.menuId}}):await k.a.post("".concat("https://souscook-production.up.railway.app/api","/favorites"),{user_id:a,menu_id:e.menuId}),s(a=>a.map(a=>a.id===e.id?Object(o.a)(Object(o.a)({},a),{},{isLiked:!a.isLiked}):a))}catch(t){console.error("Error toggling favorite:",t)}})(e)},r.a.createElement("i",{className:"fas fa-heart heart-icon ".concat(e.isLiked?"liked":"")})),r.a.createElement("p",{className:"time-ago"},e.timeAgo)),a<t.length-1&&r.a.createElement("div",{className:"meal-separator"}))))))};t(108);var at=()=>{const e=Object(i.p)(),a=m(),t=parseInt(a,10),[s,c]=Object(n.useState)({username:"",email:"",avatar:"",phone_number:"",birth_date:"",country:"",allergies:[]}),[l,u]=Object(n.useState)(ae.a),[d,g]=Object(n.useState)(null),[E,v]=Object(n.useState)(!1),[h,b]=Object(n.useState)(""),[N,f]=Object(n.useState)(!1),y=e=>{if(!e)return"";const a=new Date(e),t=a.getFullYear(),n=String(a.getMonth()+1).padStart(2,"0"),r=String(a.getDate()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r)};Object(n.useEffect)(()=>{if(!t||isNaN(t))return console.error("Invalid userId:",a),void e("/login");(async()=>{try{const e=(await k.a.get("".concat("https://souscook-production.up.railway.app/api","/users/").concat(t))).data.user;c(Object(o.a)(Object(o.a)({},e),{},{birth_date:y(e.birth_date),allergies:e.allergies||[]})),b((e.allergies||[]).join(", ")),e.avatar_url?u(e.avatar_url):e.avatar&&e.avatar.length>0?u("".concat("https://souscook-production.up.railway.app","/uploads/avatars/").concat(e.avatar)):u(ae.a)}catch(r){var a,n;console.error("Error fetching user data:",r),u(ae.a),401!==(null===(a=r.response)||void 0===a?void 0:a.status)&&403!==(null===(n=r.response)||void 0===n?void 0:n.status)||e("/login")}})()},[t,e,a]);const w=e=>{let{name:a,value:t}=e.target;"phone_number"===a&&(t=t.replace(/\D/g,""),t.length>10&&(t=t.slice(0,10))),"allergies"!==a?c(Object(o.a)(Object(o.a)({},s),{},{[a]:t})):b(t)},A=["Afghanistan","Albania","Algeria","Andorra","Angola","Antigua and Barbuda","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cabo Verde","Cambodia","Cameroon","Canada","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo (Congo-Brazzaville)","Costa Rica","Croatia","Cuba","Cyprus","Czechia (Czech Republic)","Democratic Republic of the Congo","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Eswatini","Ethiopia","Fiji","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Holy See","Honduras","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Mauritania","Mauritius","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montenegro","Morocco","Mozambique","Myanmar (Burma)","Namibia","Nauru","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","North Korea","North Macedonia","Norway","Oman","Pakistan","Palau","Palestine State","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Qatar","Romania","Russia","Rwanda","Saint Kitts and Nevis","Saint Lucia","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Korea","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Sweden","Switzerland","Syria","Tajikistan","Tanzania","Thailand","Timor-Leste","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States of America","Uruguay","Uzbekistan","Vanuatu","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"].sort();return r.a.createElement("div",{className:"setting-page"},r.a.createElement("div",{className:"back-container"},r.a.createElement("img",{src:Za.a,alt:"back",className:"back-icon",onClick:()=>e("/account"),style:{cursor:"pointer"}}),r.a.createElement("p",{className:"back-text"},"Account Setting")),r.a.createElement("div",{className:"setting-box"},r.a.createElement("label",{className:"profile-image-label"},r.a.createElement("img",{src:l,className:"profile-image",alt:"profile"}),r.a.createElement("input",{type:"file",accept:"image/*",onChange:e=>{if(e.target.files&&e.target.files[0]){const a=e.target.files[0];u(URL.createObjectURL(a)),g(a)}},style:{display:"none"}})),r.a.createElement("div",{className:"form-setting"},r.a.createElement("label",null,"Username"),r.a.createElement("input",{type:"text",name:"username",value:s.username,onChange:w})),r.a.createElement("div",{className:"form-setting"},r.a.createElement("label",null,"Email"),r.a.createElement("input",{type:"email",name:"email",value:s.email,onChange:w})),r.a.createElement("div",{className:"form-setting"},r.a.createElement("label",null,"Phone number"),r.a.createElement("input",{type:"text",name:"phone_number",value:s.phone_number||"",onChange:w,maxLength:10})),r.a.createElement("div",{className:"form-setting"},r.a.createElement("label",null,"Date of Birth"),r.a.createElement("input",{type:"date",name:"birth_date",value:s.birth_date||"",onChange:w})),r.a.createElement("div",{className:"form-setting"},r.a.createElement("label",null,"Country"),r.a.createElement("div",{className:"dropdown-container"},r.a.createElement("div",{className:"dropdown-selected",onClick:()=>v(!E)},s.country||"Select a country"),E&&r.a.createElement("div",{className:"dropdown-options"},A.map(e=>r.a.createElement("div",{key:e,className:"dropdown-option",onClick:()=>{w({target:{name:"country",value:e}}),v(!1)}},e))))),r.a.createElement("div",{className:"form-setting"},r.a.createElement("label",null,"Allergies"),r.a.createElement("input",{type:"text",name:"allergies",value:h,onChange:w,placeholder:"Enter allergies separated by comma, e.g. peanuts, milk, seafood"})),r.a.createElement("button",{className:"save-button",onClick:async()=>{try{const a=h.split(",").map(e=>e.trim().toLowerCase()).filter(e=>e.length>0),n=new FormData;n.append("username",s.username),n.append("email",s.email),n.append("phone_number",s.phone_number||""),n.append("birth_date",s.birth_date||""),n.append("country",s.country||""),n.append("allergies",JSON.stringify(a)),d&&n.append("avatar",d);const r=(await k.a.put("".concat("https://souscook-production.up.railway.app/api","/users/").concat(t),n,{headers:{"Content-Type":"multipart/form-data"}})).data.user;c(Object(o.a)(Object(o.a)({},r),{},{birth_date:y(r.birth_date),allergies:r.allergies||[]})),b((r.allergies||[]).join(", ")),r.avatar_url?u(r.avatar_url):r.avatar&&r.avatar.length>0?u("".concat("https://souscook-production.up.railway.app","/uploads/avatars/").concat(r.avatar)):u(ae.a),g(null),alert("User info updated successfully"),e("/account")}catch(a){console.error("Error updating user data:",a),alert("Failed to update user info.")}}},"Save")),r.a.createElement("button",{className:"delete-button",onClick:()=>f(!0)},"Delete Account"),N&&r.a.createElement("div",{className:"modal-overlay"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("h2",null,"Delete Account"),r.a.createElement("p",null,"Are you sure you want to delete your account?"),r.a.createElement("div",{className:"modal-buttons"},r.a.createElement("button",{className:"cancel-button",onClick:()=>f(!1)},"Cancel"),r.a.createElement("button",{className:"confirm-delete-button",onClick:async()=>{try{await k.a.delete("".concat("https://souscook-production.up.railway.app/api","/users/").concat(t)),p(),alert("Account deleted successfully"),e("/login")}catch(a){console.error("Error deleting account:",a),alert("Failed to delete account. Please try again.")}finally{f(!1)}}},"Delete")))))};var tt=()=>{const[e,a]=Object(n.useState)({password:"",confirmPassword:""}),[t,s]=Object(n.useState)({}),[c,m]=Object(n.useState)(!1),[u,d]=Object(n.useState)({}),[p,g]=Object(n.useState)(""),E=Object(i.p)(),v=(a,t)=>"password"===a?t?t.length<8?"Password must be at least 8 characters":/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(t)?"":"Password must contain uppercase, lowercase, and number":"Password is required":"confirmPassword"===a?t.trim()?t!==e.password?"Passwords do not match":"":"Please confirm your password":"",h=n=>{const{name:r,value:c}=n.target;if(a(e=>Object(o.a)(Object(o.a)({},e),{},{[r]:c})),t[r]&&s(e=>Object(o.a)(Object(o.a)({},e),{},{[r]:""})),u[r]){const e=v(r,c);s(a=>Object(o.a)(Object(o.a)({},a),{},{[r]:e}))}if("password"===r&&u.confirmPassword&&e.confirmPassword){const a=v("confirmPassword",e.confirmPassword);s(e=>Object(o.a)(Object(o.a)({},e),{},{confirmPassword:a}))}},b=e=>{const{name:a,value:t}=e.target;d(e=>Object(o.a)(Object(o.a)({},e),{},{[a]:!0}));const n=v(a,t);s(e=>Object(o.a)(Object(o.a)({},e),{},{[a]:n}))},N=e=>t[e]?"".concat("login-input"," login-input-error"):"login-input";return r.a.createElement("div",{className:"reset-container"},r.a.createElement("button",{className:"back-arrow",onClick:()=>E("/login"),"aria-label":"Go back to login"},"\u2039"),r.a.createElement("div",{className:"logo-header"},r.a.createElement("div",{className:"logo-circle"},r.a.createElement("img",{src:$.a,alt:"Company Logo",className:"Logo"}))),r.a.createElement("div",{className:"reset-card"},r.a.createElement("div",{className:"reset-header"},r.a.createElement("h1",{className:"reset-title"},"SET NEW PASSWORD"),r.a.createElement("p",{className:"reset-subtitle"},"Please enter your new password and confirm it below.")),r.a.createElement("form",{className:"reset",onSubmit:async t=>{t.preventDefault();const n=(()=>{const a={};return Object.keys(e).forEach(t=>{const n=v(t,e[t]);n&&(a[t]=n)}),a})();if(Object.keys(n).length>0)return s(n),void d({password:!0,confirmPassword:!0});m(!0),s({}),g("");try{var r;const t=await k.a.post("/api/auth/new-password",{password:e.password});g((null===(r=t.data)||void 0===r?void 0:r.message)||"Your password has been reset successfully!"),a({password:"",confirmPassword:""}),d({}),setTimeout(()=>E("/login"),2e3)}catch(i){var c,l;s({submit:(null===(c=i.response)||void 0===c||null===(l=c.data)||void 0===l?void 0:l.message)||"An error occurred. Please try again."})}finally{m(!1)}}},r.a.createElement("div",{className:"input-wrapper"},r.a.createElement("input",{id:"password",name:"password",type:"password",value:e.password,onChange:h,onBlur:b,placeholder:"New Password",className:N("password"),"aria-describedby":t.password?"password-error":void 0,"aria-invalid":t.password?"true":"false",autoComplete:"new-password",disabled:c}),t.password&&r.a.createElement("div",{id:"password-error",className:"login-error",role:"alert"},t.password)),r.a.createElement("div",{className:"input-wrapper"},r.a.createElement("input",{id:"confirmPassword",name:"confirmPassword",type:"password",value:e.confirmPassword,onChange:h,onBlur:b,placeholder:"Confirm Password",className:N("confirmPassword"),"aria-describedby":t.confirmPassword?"confirm-error":void 0,"aria-invalid":t.confirmPassword?"true":"false",autoComplete:"new-password",disabled:c}),t.confirmPassword&&r.a.createElement("div",{id:"confirm-error",className:"login-error",role:"alert"},t.confirmPassword)),p&&r.a.createElement("div",{className:"login-success",role:"alert"},p),t.submit&&r.a.createElement("div",{className:"login-error",role:"alert"},t.submit),r.a.createElement("button",{type:"submit",className:"send-reset-button",disabled:!e.password||!e.confirmPassword||!!t.password||!!t.confirmPassword||c},c?"Saving...":"Save New Password"),r.a.createElement("div",{className:"reset-link"},r.a.createElement(l.b,{to:"/login",className:"login-link-text"},"Back to Sign In")))))};t(109);var nt=()=>{var e;const a=Object(i.p)(),t=null===(e=Object(i.n)().state)||void 0===e?void 0:e.menu_id,s=parseInt(t,10),c=localStorage.getItem("user_id"),l=parseInt(c,10),[m,u]=Object(n.useState)({username:"",avatar:"",avatar_url:ae.a}),[d,p]=Object(n.useState)({user_id:"",menu_id:"",comment:"",rating:""}),[g,E]=Object(n.useState)([{menu_id:"",comment:"",rating:"",created_at:"",updated_at:"",username:"",avatar:"",avatar_url:ae.a}]),[v,h]=Object(n.useState)({sum_rating:0,avg_rating:0,rate_5:0,rate_4:0,rate_3:0,rate_2:0,rate_1:0,percent_rate_5:0,percent_rate_4:0,percent_rate_3:0,percent_rate_2:0,percent_rate_1:0}),[b,N]=Object(n.useState)(!1),[f,y]=Object(n.useState)(!1),[w,A]=Object(n.useState)(!1),[O,C]=Object(n.useState)(!1),[j,S]=Object(n.useState)(!1);Object(n.useEffect)(()=>{if(!l||isNaN(l))return console.error("Invalid userId:",c),void a("/login");(async()=>{try{const e=(await k.a.get("".concat("https://souscook-production.up.railway.app","/api/users/").concat(l))).data.user;u(e),e.avatar_url&&u(a=>Object(o.a)(Object(o.a)({},a),{},{avatar_url:"".concat(e.avatar_url,"?t=").concat(Date.now())}))}catch(e){console.error("Error fetching user data:",e)}})()},[l,a]);const I=async()=>{try{const e=await k.a.get("".concat("https://souscook-production.up.railway.app","/api/menu-detail/").concat(s,"/reviews")),{reviews:a,menu_id:t,sum_rating:n,avg_rating:r,rate_5:i,rate_4:m,rate_3:u,rate_2:d,rate_1:g}=e.data;if(!t)return void console.error("Backend did not return a valid menu_id.");E(a||[]),h({sum_rating:n||0,avg_rating:r||0,rate_5:i||0,rate_4:m||0,rate_3:u||0,rate_2:d||0,rate_1:g||0,percent_rate_5:a.length>0?i/a.length*100:0,percent_rate_4:a.length>0?m/a.length*100:0,percent_rate_3:a.length>0?u/a.length*100:0,percent_rate_2:a.length>0?d/a.length*100:0,percent_rate_1:a.length>0?g/a.length*100:0}),p(e=>Object(o.a)(Object(o.a)({},e),{},{menu_id:s,user_id:c}));const v=!(!a||!Array.isArray(a))&&a.some(e=>e.user_id===l);N(v),console.log("check has review in fetch",v,l)}catch(e){console.error("Error fetching review data:",e)}};Object(n.useEffect)(()=>{I()},[s]);const _=e=>{const a=parseFloat(e)||0,t=Math.round(a);return[5,4,3,2,1].map(e=>r.a.createElement("span",{key:e,className:"fa fa-star fa-1x star-base ".concat(e<=t?"star-check":"")}))},x=e=>{p(Object(o.a)(Object(o.a)({},d),{},{[e.target.name]:e.target.value}))};return r.a.createElement("div",{className:"review-page"},r.a.createElement("div",{className:"rating-container"},r.a.createElement("div",{className:"top-blank"},r.a.createElement("img",{src:Za.a,alt:"back",className:"back-icon",onClick:()=>a(-1),style:{cursor:"pointer"}})),r.a.createElement("div",{className:"pic-logo"},r.a.createElement("img",{src:$.a,id:"logo-review",alt:"Sous Cook Logo"}),r.a.createElement("div",{className:"caption-review"},"Review this recipe"),r.a.createElement("div",{className:"star-rating menu-rate"},_(v.avg_rating)))),r.a.createElement("div",{className:"review-container"},r.a.createElement("div",{className:"rw-rt"},r.a.createElement("div",{className:"rw"},g.length," reviews"),r.a.createElement("div",{className:"rt"},v.sum_rating," ratings")),r.a.createElement("div",{className:"detail-rating"},r.a.createElement("div",{className:"left-rating"},r.a.createElement("div",{className:"rating-this-menu"},v.avg_rating),r.a.createElement("div",null,"out of 5")),r.a.createElement("div",{className:"right-rating"},r.a.createElement("div",{className:"row-rate-right"},r.a.createElement("div",{className:"right-star"},_(5)),r.a.createElement("div",{className:"all-rate"},r.a.createElement("div",{className:"progress-bar-rate"},r.a.createElement("div",{className:"percent-progress-bar",style:{width:"".concat(v.percent_rate_5,"%")}}))),r.a.createElement("div",{className:"num-rate"},r.a.createElement("div",{className:"num-review"},v.rate_5))),r.a.createElement("div",{className:"row-rate-right"},r.a.createElement("div",{className:"right-star"},_(4)),r.a.createElement("div",{className:"all-rate"},r.a.createElement("div",{className:"progress-bar-rate"},r.a.createElement("div",{className:"percent-progress-bar",style:{width:"".concat(v.percent_rate_4,"%")}}))),r.a.createElement("div",{className:"num-rate"},r.a.createElement("div",{className:"num-review"},v.rate_4))),r.a.createElement("div",{className:"row-rate-right"},r.a.createElement("div",{className:"right-star"},_(3)),r.a.createElement("div",{className:"all-rate"},r.a.createElement("div",{className:"progress-bar-rate"},r.a.createElement("div",{className:"percent-progress-bar",style:{width:"".concat(v.percent_rate_3,"%")}}))),r.a.createElement("div",{className:"num-rate"},r.a.createElement("div",{className:"num-review"},v.rate_3))),r.a.createElement("div",{className:"row-rate-right"},r.a.createElement("div",{className:"right-star"},_(2)),r.a.createElement("div",{className:"all-rate"},r.a.createElement("div",{className:"progress-bar-rate"},r.a.createElement("div",{className:"percent-progress-bar",style:{width:"".concat(v.percent_rate_2,"%")}}))),r.a.createElement("div",{className:"num-rate"},r.a.createElement("div",{className:"num-review"},v.rate_2))),r.a.createElement("div",{className:"row-rate-right"},r.a.createElement("div",{className:"right-star"},_(1)),r.a.createElement("div",{className:"all-rate"},r.a.createElement("div",{className:"progress-bar-rate"},r.a.createElement("div",{className:"percent-progress-bar",style:{width:"".concat(v.percent_rate_1,"%")}}))),r.a.createElement("div",{className:"num-rate"},r.a.createElement("div",{className:"num-review"},v.rate_1))))),r.a.createElement("hr",null),0===g.length?r.a.createElement("p",{className:"no-review-text"},"Be the first to leave a review!"):g.map((e,a)=>r.a.createElement("div",{key:a},r.a.createElement("div",{className:"review-profile"},r.a.createElement("div",{className:"review-pro-pic"},(e=>{let a=ae.a,t="".concat("https://souscook-production.up.railway.app","/uploads/avatars/").concat(e.avatar);return a="".concat(t,"?t=").concat(Date.now()),r.a.createElement("img",{src:a?"".concat(a):ae.a,className:"my-review-pro",alt:"avatar"})})(e)),r.a.createElement("div",{className:"review-pro-rate"},r.a.createElement("div",{className:"review-username"},e.username),r.a.createElement("div",{className:"review-rate my-rate"},r.a.createElement("div",{className:"star-rating all-users-review"},_(e.rating)))),(e=>{if(e.user_id===l)return r.a.createElement("button",{className:"del-rew-bttn",onClick:()=>S(!0)},r.a.createElement("img",{src:Be.a}))})(e)),r.a.createElement("div",{className:"comment-box"},r.a.createElement("div",{className:"review-text"},e.comment),(e=>e.updated_at?(e.updated_at=e.updated_at.split("T")[0],r.a.createElement("div",{className:"show-date-review"},e.updated_at)):(e.created_at=e.created_at.split("T")[0],r.a.createElement("div",{className:"show-date-review"},e.created_at)))(e)),r.a.createElement("hr",null)))),r.a.createElement("div",{className:"post-review-container"},r.a.createElement("form",{className:"review-form",onSubmit:async e=>{e.preventDefault();const a=parseInt(d.rating,10);if(b)C(!0);else{if(a<1||a>5)return void console.error("rate should be in 1 - 5");if(!s)return void console.error("Cannot submit review: menu_id is missing.");try{await k.a.post("".concat("https://souscook-production.up.railway.app","/api/menu-detail/").concat(s,"/reviews"),d);p({comment:"",rating:""}),I()}catch(t){console.error("Error for post review:",t)}}}},r.a.createElement("div",{className:"review-profile"},r.a.createElement("div",{className:"review-pro-pic"},r.a.createElement("img",{src:m.avatar_url?"".concat(m.avatar_url):ae.a,className:"my-review-pro",alt:"avatar"})),r.a.createElement("div",{className:"review-pro-rate"},r.a.createElement("div",{className:"review-username"},m.username),r.a.createElement("div",{className:"review-rate my-rate"},r.a.createElement("div",{className:"star-rating"},r.a.createElement("input",{type:"radio",name:"rating",id:"star5",value:"5",checked:"5"===d.rating,onChange:x}),r.a.createElement("label",{for:"star5"}),r.a.createElement("input",{type:"radio",name:"rating",id:"star4",value:"4",checked:"4"===d.rating,onChange:x}),r.a.createElement("label",{for:"star4"}),r.a.createElement("input",{type:"radio",name:"rating",id:"star3",value:"3",checked:"3"===d.rating,onChange:x}),r.a.createElement("label",{for:"star3"}),r.a.createElement("input",{type:"radio",name:"rating",id:"star2",value:"2",checked:"2"===d.rating,onChange:x}),r.a.createElement("label",{for:"star2"}),r.a.createElement("input",{type:"radio",name:"rating",id:"star1",value:"1",checked:"1"===d.rating,onChange:x}),r.a.createElement("label",{for:"star1"}))))),r.a.createElement("div",{className:"review-message-box"},r.a.createElement("textarea",{name:"comment",placeholder:"Add a comment...",id:"review-message-textarea",value:d.comment,onChange:x})),r.a.createElement("div",{className:"review-button-box"},r.a.createElement("button",{type:"submit",className:"post-review-button"},"Post")))),O&&r.a.createElement("div",{className:"popup-overlay"},r.a.createElement("div",{className:"popup-content"},r.a.createElement("h2",null,"Update Reiview"),r.a.createElement("p",null,"Are you sure you want to update your review?"),r.a.createElement("div",{className:"popup-buttons"},r.a.createElement("button",{className:"cancel-button-review",onClick:()=>C(!1)},"Cancel"),r.a.createElement("button",{className:"confirm-button-review",onClick:async e=>{e.preventDefault();try{await k.a.put("".concat("https://souscook-production.up.railway.app","/api/reviews"),d);C(!1),p({comment:"",rating:""}),I()}catch(a){console.error("Error for put review:",a)}}},"Update")))),j&&r.a.createElement("div",{className:"popup-overlay"},r.a.createElement("div",{className:"popup-content"},r.a.createElement("h2",null,"Delete Reiview"),r.a.createElement("p",null,"Are you sure you want to delete your review?"),r.a.createElement("div",{className:"popup-buttons"},r.a.createElement("button",{className:"cancel-button-review",onClick:()=>S(!1)},"Cancel"),r.a.createElement("button",{className:"confirm-button-review",onClick:async e=>{try{await k.a.delete("".concat("https://souscook-production.up.railway.app","/api/").concat(s,"/").concat(l,"/reviews"));S(!1),I()}catch(a){console.error("Error for delete review:",a)}}},"Delete")))))},rt=(t(110),t(81)),st=t.n(rt),ct=t(82),lt=t.n(ct);var it=()=>{const e=Object(i.p)(),a=m(),[t,s]=Object(n.useState)([]),[c,l]=Object(n.useState)(!1);Object(n.useEffect)(()=>{if(!d())return void e("/login");const t=b(a);s(t)},[a,e]);return r.a.createElement("div",{className:"shopping-list-container"},r.a.createElement("div",{className:"shopping-header"},r.a.createElement("button",{className:"back-button",onClick:()=>e(-1)}),r.a.createElement("h1",null,"Shopping List")),r.a.createElement("div",{className:"shopping-items"},Array.isArray(t)&&t.length>0?t.map((e,a)=>r.a.createElement("div",{key:a,className:"shopping-card"},r.a.createElement("img",{src:e.image,alt:e.name,className:"shopping-image"}),r.a.createElement("p",null,e.name),r.a.createElement("button",{className:"remove-item",onClick:()=>(e=>{const a=t.filter((a,t)=>t!==e);s(a),N(a)})(a)},"\xd7"))):r.a.createElement("p",{className:"empty-text"},"No ingredients added yet.")),Array.isArray(t)&&t.length>0&&r.a.createElement("button",{className:"order-button",onClick:()=>l(!0)},"Order"),c&&r.a.createElement("div",{className:"popup-overlay"},r.a.createElement("div",{className:"popup-content"},r.a.createElement("h2",null,"Choose Delivery App"),r.a.createElement("div",{className:"popup-buttons"},r.a.createElement("button",{className:"sponsor-button lineman",onClick:()=>window.open("https://lineman.line.me/mart","linemanPopup","width=600,height=800")},r.a.createElement("img",{src:lt.a,alt:"LINE MAN"})),r.a.createElement("button",{className:"sponsor-button grab",onClick:()=>window.open("https://food.grab.com/mart","grabPopup","width=600,height=800")},r.a.createElement("img",{src:st.a,alt:"Grab"}))),r.a.createElement("button",{className:"close-button",onClick:()=>l(!1)},"Cancel"))))};const ot=()=>r.a.createElement("div",{className:"loading-overlay"},r.a.createElement("div",{className:"loading-popup"},r.a.createElement("div",{className:"spinner"}),r.a.createElement("p",null,"Processing your image, please wait..."))),mt=e=>{let{onClose:a}=e;const[t,s]=Object(n.useState)(!0);return t?r.a.createElement("div",{className:"notfound-overlay"},r.a.createElement("div",{className:"notfound-popup"},r.a.createElement(Fa.a,{className:"error-icon"}),r.a.createElement("p",null,"Error Please try again"),r.a.createElement("button",{className:"close-button",onClick:()=>{s(!1),a&&a()}},"Close"))):null};var ut=()=>{const e=Object(n.useRef)(null),[a,t]=Object(n.useState)(null),[s,c]=Object(n.useState)(!1),[l,m]=Object(n.useState)(!1),[u,d]=Object(n.useState)(!1),[p,g]=Object(n.useState)("environment"),E=Object(i.p)(),b=Object(n.useCallback)(()=>{if(e.current){const a=e.current.getScreenshot();d(!1),t(a)}},[e]);return r.a.createElement("div",null,s&&r.a.createElement(ot,null),l&&r.a.createElement(mt,{onClose:()=>m(!1)}),r.a.createElement("div",{className:"camera-container"},a?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"camera-header"},r.a.createElement("span",{className:"header-title"},"Add Ingredients"),r.a.createElement("img",{src:D.a,className:"close-button",alt:"Close",onClick:()=>E("/search")})),r.a.createElement("img",{src:a,alt:"Captured",className:"captured-image"}),r.a.createElement("div",{className:"camera-buttom-preview"},r.a.createElement("button",{onClick:()=>t(null),className:"retake-button styled-button"},r.a.createElement("img",{src:z.a,alt:"Retake",className:"button-image"})),r.a.createElement("button",{onClick:()=>(async e=>{try{c(!0);const a=await fetch("".concat("https://souscook-production.up.railway.app/api","/upload"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({image:e})});if(!a.ok)throw new Error("Network response was not ok");const n=await a.json();if(console.log("Response from backend:",n),n&&n.ingredients&&n.ingredients.length>0){const e=n.ingredients.map(e=>Object(o.a)(Object(o.a)({},e),{},{source:"camera"}));if(console.log("detectedIngredients:",JSON.stringify(e,null,2)),e.length>0){const a=[...v(),...e];h(a),E("/ingredient-preview")}else m(!0)}else console.error("No ingredients detected in the backend response"),m(!0),t(null);c(!1)}catch(a){console.error("Error sending image to backend:",a),c(!1),m(!0),t(null)}})(a),className:"send-button styled-button"},r.a.createElement("img",{src:W.a,alt:"Next",className:"button-image"})))):r.a.createElement(r.a.Fragment,null,r.a.createElement(U.a,{audio:!1,ref:e,screenshotFormat:"image/jpeg",className:"webcam-view",videoConstraints:{facingMode:p}}),r.a.createElement("div",{className:"camera-header"},r.a.createElement("span",{className:"header-title"},"Add Ingredients"),r.a.createElement("img",{src:D.a,className:"close-button",alt:"Close",onClick:()=>E("/search")})),r.a.createElement("div",{className:"camera-buttom"},r.a.createElement("div",{className:"upload-container"},r.a.createElement("img",{src:L.a,alt:"Upload",onClick:()=>document.getElementById("fileInput").click(),className:"upload-image"})),r.a.createElement("button",{onClick:b,className:"camera-button",onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1)},r.a.createElement("img",{src:u?K.a:q.a,alt:"Camera Button",className:"camera-button-img"})),r.a.createElement("div",{className:"swap-container"},r.a.createElement("img",{src:G.a,alt:"Swap Camera",className:"swap-camera",onClick:()=>{g(e=>"environment"===e?"user":"environment")}})),r.a.createElement("input",{type:"file",accept:"image/*",onChange:e=>{const a=e.target.files[0];if(a){const e=new FileReader;e.onloadend=()=>{t(e.result)},e.readAsDataURL(a)}},className:"upload-button",id:"fileInput",style:{display:"none"}})))))},dt=(t(111),t(83)),pt=t.n(dt);var gt=()=>{var e;const a=Object(i.n)(),t=Object(i.p)(),s=null===(e=a.state)||void 0===e?void 0:e.menu_id,c=localStorage.getItem("user_id"),[l,m]=Object(n.useState)([]),[u,d]=Object(n.useState)("small-community");Object(n.useEffect)(()=>{(async()=>{try{const e=await k.a.get("".concat("https://souscook-production.up.railway.app","/api/community"),{params:s?{menu_id:s}:{}}),a=(e.data.posts||[]).map(e=>({id:e.post_id,username:e.username,avatar:e.avatar_url||ae.a,image:e.image_url||"",caption:e.caption||"",created_at:e.created_at,likes:e.like_count||0,liked:!1}));m(a)}catch(e){console.error("Error fetching posts:",e)}})()},[s]);const p=e=>{d(e),t("/".concat(e))},g=e=>e?e.charAt(0).toUpperCase()+e.slice(1):"";return r.a.createElement("div",{className:"community-container"},r.a.createElement("div",{className:"community-header-container"},r.a.createElement("img",{src:Me.a,alt:"Header",className:"community-header-image"}),r.a.createElement("div",{className:"back-to-menu-detail"},r.a.createElement("button",{className:"back-button",onClick:()=>{t(-1)}}))),0===l.length&&r.a.createElement("p",{className:"community-no-posts"},"No posts yet"),l.map(e=>r.a.createElement("div",{key:e.id,className:"community-post-card"},r.a.createElement("div",{className:"community-post-header"},r.a.createElement("img",{src:e.avatar,className:"user-profile-pic",alt:"avatar",onError:e=>e.target.src=ae.a}),r.a.createElement("p",{className:"community-username"},g(e.username))),e.image&&r.a.createElement("img",{src:e.image,className:"community-post-image",alt:"dish",onError:e=>e.target.style.display="none"}),r.a.createElement("div",{className:"community-post-actions"},r.a.createElement("button",{className:"community-like-button ".concat(e.liked?"liked":""),onClick:()=>(async e=>{try{const a=await k.a.post("".concat("https://souscook-production.up.railway.app","/api/community/").concat(e,"/like"),{user_id:c});a.data.success&&m(l.map(t=>t.id===e?Object(o.a)(Object(o.a)({},t),{},{likes:a.data.like_count,liked:a.data.liked}):t))}catch(a){console.error("Error toggling like:",a)}})(e.id)},r.a.createElement("img",{src:pt.a,alt:"like"}),r.a.createElement("span",{className:"community-like-count"},e.likes))),e.caption&&r.a.createElement("p",{className:"community-caption"},r.a.createElement("strong",{className:"community-username-caption"},g(e.username)),e.caption),r.a.createElement("p",{className:"community-created-at"},new Date(e.created_at).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})))),r.a.createElement("div",{className:"navbar"},r.a.createElement("a",{className:"home nav-item ".concat("home"===u?"selected":""),onClick:()=>p("home")},r.a.createElement("img",{src:Oa.a,alt:"home"})),r.a.createElement("a",{className:"heart nav-item ".concat("favorites"===u?"selected":""),onClick:()=>p("favorites")},r.a.createElement("img",{src:ja.a,alt:"favorites"})),r.a.createElement("a",{className:"camera nav-item ".concat("camera"===u?"selected":""),onClick:()=>p("camera")},r.a.createElement("img",{src:Ia.a,alt:"camera"})),r.a.createElement("a",{className:"history nav-item ".concat("history"===u?"selected":""),onClick:()=>p("history")},r.a.createElement("img",{src:xa.a,alt:"history"})),r.a.createElement("a",{className:"account nav-item ".concat("account"===u?"selected":""),onClick:()=>p("account")},r.a.createElement("img",{src:Ra.a,alt:"account"}))))};var Et=function(){const e=Object(i.n)();return r.a.createElement("div",{className:"App"},r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"",element:r.a.createElement(Aa,null)}),r.a.createElement(i.a,{path:"/",element:r.a.createElement(Aa,null)}),r.a.createElement(i.a,{path:"/home",element:r.a.createElement(va,null)}),r.a.createElement(i.a,{path:"/menu-suggestion",element:r.a.createElement(me,null)}),r.a.createElement(i.a,{path:"/camera",element:r.a.createElement(Da,null)}),r.a.createElement(i.a,{path:"/camera-search",element:r.a.createElement(ut,null)}),r.a.createElement(i.a,{path:"/menu-detail/:index",element:r.a.createElement(le,null)}),r.a.createElement(i.a,{path:"/menu-detail",element:r.a.createElement(le,null)}),r.a.createElement(i.a,{path:"/preferences",element:r.a.createElement(oe,null)}),r.a.createElement(i.a,{path:"/ingredient-preview",element:r.a.createElement(Fe,null)}),r.a.createElement(i.a,{path:"/login",element:r.a.createElement(Ta,null)}),r.a.createElement(i.a,{path:"/reset-password",element:r.a.createElement(Ga,null)}),r.a.createElement(i.a,{path:"/signup",element:r.a.createElement(Va,null)}),r.a.createElement(i.a,{path:"/account",element:r.a.createElement(Ka,null)}),r.a.createElement(i.a,{path:"/favorites",element:r.a.createElement(Ha,null)}),r.a.createElement(i.a,{path:"/history",element:r.a.createElement(et,null)}),r.a.createElement(i.a,{path:"/search",element:r.a.createElement(Qa,null)}),r.a.createElement(i.a,{path:"/setting",element:r.a.createElement(at,null)}),r.a.createElement(i.a,{path:"/new-password",element:r.a.createElement(tt,null)}),r.a.createElement(i.a,{path:"/reviews",element:r.a.createElement(nt,null)}),r.a.createElement(i.a,{path:"/shoppinglist",element:r.a.createElement(it,null)}),r.a.createElement(i.a,{path:"/camera-share-dish",element:r.a.createElement(J,null)}),r.a.createElement(i.a,{path:"/community",element:r.a.createElement(gt,null)})),["/home","/favorites","/history","/account"].includes(e.pathname)?r.a.createElement(Pa,null):r.a.createElement(r.a.Fragment,null))};c.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,null,r.a.createElement(Et,null))))}],[[84,1,2]]]);
//# sourceMappingURL=main.2284f8ff.chunk.js.map